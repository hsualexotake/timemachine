(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[21062],{52884:function(e,t,n){"use strict";n.d(t,{Gu:function(){return o},o$:function(){return u}});var r=n(45697),i=n.n(r),s=i().shape({name:i().string.isRequired,label:i().string.isRequired,options:i().arrayOf(i().shape({})),selected:i().oneOfType([i().string,i().number]).isRequired,isDefault:i().bool.isRequired,placeholder:i().string,disabled:i().bool,showLabel:i().bool}),u={split:s.isRequired,updateSplit:i().func.isRequired,className:i().string,disabled:i().bool,showLabel:i().bool},o={splits:i().arrayOf(s).isRequired,updateSplit:i().func.isRequired,className:i().string,label:i().string.isRequired,disabled:i().bool}},28189:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(47568),i=n(14924),s=n(26042),u=n(69396),o=n(99534),a=n(10253),c=n(29815),l=n(34051),p=n.n(l),f=n(51695),d=n(11163),v=n(67294);function h(e){var t=e.initialSplits,n=void 0===t?{}:t,l=e.autoRun,h=void 0===l?[]:l,Z=e.onChange,x=e.runOnMount,w=void 0!==x&&x,S=e.comboSplits,_=void 0===S?[[]]:S,y=function(e){return h.length>0&&h.includes(e)},k=function(e){return _.length>0&&_.some((function(t){return t.includes(e)}))},g=(0,v.useRef)(w),j=(0,d.useRouter)(),q=j.query,R=j.push,O=(q.props,(0,o.Z)(q,["props"])),E=(0,v.useState)({}),N=E[0],P=E[1],L=(0,v.useMemo)((function(){return function(e,t,n){if(!t)return e;var r=(0,s.Z)({},e);return Object.entries(r).forEach((function(e){var i=(0,a.Z)(e,2),o=i[0],c=i[1],l=c.def,p=void 0===l?"":l,f=c.selected,d=void 0===t[o]||t[o]===p,v=null!==f&&void 0!==f?f:p;void 0!==n[o]?v=n[o]:void 0!==t[o]&&(v=t[o]),r[o]=(0,u.Z)((0,s.Z)({},c),{selected:v,isDefault:d})})),r}(n,q,N)}),[n,q,N]),C=(0,v.useCallback)((function(e){return R({pathname:window.location.pathname,query:e},void 0,{shallow:!0})}),[R]);if(!Array.isArray(_[0]))throw new Error("Invalid comboSplits value, must be string[][]");function A(){return(A=(0,r.Z)(p().mark((function e(t,r){var o,a,l,f,d;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==n[t]){e.next=2;break}throw new Error('Attempting to update the split "'.concat(t,"\" but it doesn't exist"));case 2:if(o=(0,s.Z)({},N),a=(0,s.Z)({},O),!k(t)){e.next=14;break}if(l=_.filter((function(e){return e.includes(t)})).flat(),f=(0,c.Z)(new Set(l)),d=!1,f.forEach((function(e){y(e)&&(d=!0),e===t?(a[e]=r,o[e]=r):(a[e]=void 0,o[e]=void 0)})),!d){e.next=12;break}return e.next=12,C(b(a));case 12:return P(o),e.abrupt("return");case 14:y(t)?C((0,u.Z)((0,s.Z)({},O),(0,i.Z)({},t,r))):P((function(e){return(0,u.Z)((0,s.Z)({},e),(0,i.Z)({},t,r))}));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=(0,r.Z)(p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b((0,s.Z)({},O,N)),e.next=3,C(t);case 3:P({});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return T=(0,r.Z)(p().mark((function e(){var t;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},0!==Object.keys(O).length){e.next=4;break}return P({}),e.abrupt("return");case 4:return Object.entries(O).forEach((function(e){var r=(0,a.Z)(e,2),i=r[0],s=r[1];void 0===n[i]&&(t[i]=s)})),e.next=7,C(t);case 7:P({});case 8:case"end":return e.stop()}}),e)}))),T.apply(this,arguments)}function B(){return(B=(0,r.Z)(p().mark((function e(t){var r,o,a;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==n[t]){e.next=2;break}throw new Error('Attempting to reset the split "'.concat(t,"\" but it doesn't exist"));case 2:if(r=void 0!==O[t],o=void 0!==N[t],a=n[t].def,o&&P(m(t,N)),!r){e.next=10;break}if(void 0===a){e.next=10;break}return e.next=10,C((0,u.Z)((0,s.Z)({},O),(0,i.Z)({},t,a)));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,v.useEffect)((function(){if(g&&g.current){if(Z){var e={};Object.values(n).forEach((function(t){var n,r=t.name,i=t.selected,s=void 0===i?"":i;e[r]=null!==(n=q[r])&&void 0!==n?n:s})),Z(e)}!function(e,t){var n={};Object.values(e).forEach((function(e){var r=e.name,i=e.def,s=void 0===i?"":i;t[r]&&t[r]!==s&&(n[r]=t[r])}));var r=Object.entries(n).map((function(e){var t=(0,a.Z)(e,2),n=t[0],r=t[1];return"".concat(n,"=").concat(r)})).join("; "),i=Object.keys(n).length;(0,f.uK)(r,i)}(n,q)}return g.current=!0,function(){}}),[q,Z,n]),{splits:L,updateSplit:function(e,t){return A.apply(this,arguments)},runSplits:function(){return I.apply(this,arguments)},resetSplit:function(e){return B.apply(this,arguments)},resetSplits:function(){return T.apply(this,arguments)}}}function b(e){var t=(0,s.Z)({},e);return Object.entries(t).forEach((function(e){var n=(0,a.Z)(e,2),r=n[0];void 0===n[1]&&delete t[r]})),t}function m(e,t){var n=(0,s.Z)({},t);return void 0!==n[e]&&delete n[e],n}},66931:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(85893),i=n(93967),s=n.n(i),u=n(33459),o=n(52884).o$,a=n(87528),c=n.n(a);function l(e){var t=e.split,n=e.updateSplit,i=e.className,o=e.disabled;if(void 0!==o&&o)return null;if(!t)return console.warn("Split is missing from SplitSelect"),null;var a=t.name,l=t.label,p=t.options,f=t.selected,d=t.isDefault;return(0,r.jsx)(u.Z,{label:l,options:p,selected:f,onChange:function(e){return n(a,e)},className:s()(c().select,i),"data-is-touched":!d})}l.propTypes=o},55818:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(85893),i=n(11163),s=n(40355),u=n(45697),o=n.n(u),a={splits:o().shape({}).isRequired,resetSplit:o().func,router:o().shape({query:o().shape({})}).isRequired},c=n(55855),l=n.n(c);function p(e){var t=e.splits,n=e.resetSplit,i=void 0===n?function(){}:n,u=e.router.query;return(0,r.jsx)("div",{className:l().sp,children:Object.values(t).map((function(e){var t=e.name,n=e.label,o=e.options,a=e.selected,c=e.displayOptionText;if(void 0===u[t]||u[t]!==a||a===e.def)return null;var p=c?o.find((function(e){return e.val===a})):null,f=c&&p&&void 0!==p.text?p.text:a;return(0,r.jsxs)("div",{className:l().spPill,children:[(0,r.jsxs)("span",{className:l().spLabel,children:[n,":\xa0"]}),(0,r.jsx)("span",{children:f}),(0,r.jsx)("button",{className:l().spButton,onClick:function(){return i(e.name)},type:"button",children:(0,r.jsx)(s.Z,{className:l().spIcon})})]},t)}))})}p.propTypes=a;var f=(0,i.withRouter)(p)},87528:function(e){e.exports={select:"SplitSelect_select__L8_El"}},55855:function(e){e.exports={sp:"SplitsPills_sp__GHtfm",spPill:"SplitsPills_spPill__Ls70q",spLabel:"SplitsPills_spLabel__Pob9L",spButton:"SplitsPills_spButton__0cX_r",spIcon:"SplitsPills_spIcon__UoFqM"}}}]);