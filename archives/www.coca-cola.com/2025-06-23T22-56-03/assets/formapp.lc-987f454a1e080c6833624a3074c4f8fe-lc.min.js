(function(){var d,a,l=function(c){c=c.data;var b=d.SELECTOR_FORM_CONTAINER,e=JSON.parse(c.afSuccessPayload);if("page"===a.thankyouConfig)b="false"===a.useIframe&&"inline"===a.submitType,"true"===a.useIframe&&"pageRefresh"===a.submitType?window.parent.window.location.href=e.thankYouContent:b&&(window.console&&window.console.warn?console.warn("Refresh page on submission not selected."):d._guide.logger().log("Refresh page on submission not selected."));else{if("false"!==a.useIframe){var f=document.querySelector("#aemFormFrame").contentWindow.document;
b=f.querySelector(b)}else b=$(".aemformcontainer").find(b)[0];c.hasOwnProperty(d.KEY_AF_SUCCESS_DOCUMENT_OF_RECORD)&&(e.dorUri=c[d.KEY_AF_SUCCESS_DOCUMENT_OF_RECORD]);b.innerHTML=e.thankYouContent;b.style.textAlign="center";b.style.marginTop="20px";b.setAttribute("data-iframe-height","")}d._guide.executeExpression("submitSuccess",e);c.agreementId&&d._guide._isFirstSignerFormFiller()&&d._guide.guideUtil.redirectWithDelay(c.afSuccessRedirectUrl,3E3)},g=function(c){"false"!==a.useIframe&&"auto"==a.height&&
iFrameResize({autoResize:!0,scrolling:!0,heightCalculationMethod:"taggedElement"},"#aemFormFrame");"auto"!=a.height&&$("#aemFormFrame").css("height",a.height);var b={};var e="false"===a.useIframe&&"inline"===a.submitType;var f="true"===a.useIframe&&"pageRefresh"===a.submitType;"page"===a.thankyouConfig&&(b.thankyouPage=""===a.thankyouPage?null:a.thankyouPage);"message"===a.thankyouConfig||e||f?(b.useAjax=!0,b.submitSuccessHandler=l):"pageRefresh"===a.submitType&&"false"!==a.useIframe&&(e=document.createElement("form"),
e.setAttribute("method","POST"),e.setAttribute("enctype","multipart/form-data"),document.body.appendChild(e),b.form=e);b.aemFormComponentPath=a.aemFormComponentPath;c.registerConfig("submitConfig",b)},h=function(c){d=c.detail.guideBridge;g(d);window.removeEventListener("bridgeInitializeStart",h)},k=document.createEvent("CustomEvent");k.initCustomEvent("aemform-onscript-load",!0,!0,{formApp:{initializeAEMForm:function(c){a=c;"true"==c.form&&(window.guideBridge?(d=window.guideBridge,g(d)):window.addEventListener("bridgeInitializeStart",
h))}}});window.dispatchEvent(k)})();