"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[1223],{76120:(e,t,n)=>{n.d(t,{A:()=>E});var r,i,a,o=n(63696),l=n(89958),d=n(91785),s=n(74437),c=n(35289),h=n(468),u=n(61223),m=n(20048),v=n(27336),f=n(26508),p=n(62540);function g(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var w="0.5s",x=(0,l.default)("div",{target:"eovm8906",label:"HeadingButtonWrapper"})("display:flex;justify-content:space-between;width:100%;align-items:center;@media (hover: hover) and (pointer: fine){padding-top:",s.SPACING_6,";padding-bottom:",s.SPACING_3,";}"),A=(0,l.default)("div",{target:"eovm8905",label:"HeadingContainer"})({name:"1ycwc2r",styles:"position:relative;display:initial;flex:1;padding-top:1rem;@media (hover: hover) and (pointer: fine){padding-top:0;}"}),b=(0,l.default)("div",{target:"eovm8904",label:"ListWrapper"})("overflow-x:hidden;padding:",s.SPACING_3," 0;html:not(.no-js) &{touch-action:pan-y;}html.no-js &{overflow-x:scroll;}"),j=(0,l.default)("ul",{target:"eovm8903",label:"CarouselList"})("white-space:nowrap;margin:0 -",s.SPACING_1,";@media (max-width: ",c.c$,"){margin-right:",s.SPACING_6,";}transition:transform ",w,";@media (prefers-reduced-motion: reduce){transition:none;}",(e=>{var{scrollPercent:t}=e;return(0,d.AH)(r||(r=g(["\n    transform: translate(","%, 0);\n  "])),t)}),";"),y=(0,l.default)("li",{target:"eovm8902",label:"StyledCarouselItem"})("display:inline-block;box-sizing:border-box;padding:0 ",s.SPACING_1,";width:100%;@media (min-width: ",c.cK,"){width:50%;}@media (min-width: ",c.js,"){width:",100/3,"%;}@media (min-width: ",c.Xb,"){width:25%;}transition:transform ",w,",opacity ",w,";@media (prefers-reduced-motion: reduce){transition:none;}",(e=>{var{offScreen:t}=e,n=Math.sign(t)*(-20*Math.abs(t)+10);return 0!==t&&(0,d.AH)(i||(i=g(["\n        transform: scale(0.8) translate(","%);\n        cursor: pointer;\n\n        @media (min-width: ",") {\n          opacity: 0.5;\n        }\n      "])),n,c.c$)}),";"),L=(0,l.default)("div",{target:"eovm8901",label:"ButtonsContainer"})("display:none;@media (hover: hover) and (pointer: fine){display:",(e=>{var{hasButtons:t}=e;return t?"flex":"none"}),";position:relative;align-items:center;}html.no-js &{display:none;}",(e=>{var{scrollPercent:t}=e;return(0,d.AH)(a||(a=g(["\n    transform: translate(","%, 0);\n  "])),t)}),";"),_=(0,l.default)("div",{target:"eovm8900",label:"Buttons"})("display:inline-flex;background-color:",(e=>{var{theme:t}=e;return t.colourPalette.midground}),";@media (max-width: ",c.c$,"){right:",(0,h.A)(28),";}"),C=e=>{var{children:t,scroll:n,index:r,columns:i,onFocus:a}=e,o=0;return r<n&&(o=r-n),r+1>n+i&&(o=r-n-i+1),(0,p.jsx)(y,{offScreen:o,onFocus:a,children:t})};const E=e=>{var{children:t,headingText:n,headingUrl:r,headingOffset:i=0}=e,a=(0,o.useRef)(),l=(0,o.useRef)(),d="function"==typeof t?t({containerRef:l}):t,s=d.length;(0,m.A)("(min-width: ".concat(c.c5,")"))&&(s=1),(0,m.A)("(min-width: ".concat(c.cK,")"))&&(s=2),(0,m.A)("(min-width: ".concat(c.js,")"))&&(s=3),(0,m.A)("(min-width: ".concat(c.Xb,")"))&&(s=4);var[h,g]=(0,o.useState)(0),w=-100/s*h,y=Math.max(d.length-s,0),E=(0,o.useRef)(),S=(0,o.useRef)(),P=(0,o.useCallback)((()=>g((e=>e>1&&s>1?e-2:e>0?e-1:e))),[g,s]),k=(0,o.useCallback)((()=>g((e=>e<y-1&&s>1?e+2:e<y?e+1:e))),[g,y,s]);(0,o.useEffect)((()=>{var e=e=>{0!==e.deltaX&&e.preventDefault(),Math.abs(e.deltaX)>=5&&(S.current||(e.deltaX>0&&k(),e.deltaX<0&&P(),S.current=!0,setTimeout((()=>{S.current=!1}),500)))},t=e=>{if(!S.current){if(void 0!==E.current){S.current=!0;var t=E.current-e.touches[0].clientX;t<0&&P(),t>0&&k()}E.current=e.touches[0].clientX}},n=()=>{E.current=void 0,S.current=!1},r=e=>{"ArrowLeft"===e.key&&P(),"ArrowRight"===e.key&&k()},{current:i}=a;return i&&(i.addEventListener("touchmove",t),i.addEventListener("touchend",n),i.addEventListener("wheel",e),i.addEventListener("keydown",r)),()=>{i&&(i.removeEventListener("touchmove",t),i.removeEventListener("touchEnd",n),i.removeEventListener("wheel",e),i.removeEventListener("keydown",r))}}),[a,P,k,S,E]),(0,o.useEffect)((()=>{g((e=>Math.min(e,y)))}),[g,y]);var O="carousel";return 0===d.length?(0,p.jsx)("div",{"data-testid":O}):(0,p.jsxs)("div",{role:"group","aria-label":"carousel","data-testid":O,children:[(0,p.jsx)(u.A,{children:(0,p.jsxs)(x,{children:[(0,p.jsx)(A,{children:(0,p.jsx)(f.A,{title:n,headingLevel:2+i,titleUrl:r,hasSubtitle:!1})}),(0,p.jsx)(L,{hasButtons:d.length>s,children:(0,p.jsxs)(_,{children:[(0,p.jsx)(v.A,{emphasis:"medium",iconType:"arrows:chevron-left",iconOnly:!0,onClick:P,children:"Scroll Left"}),(0,p.jsx)(v.A,{emphasis:"high",iconType:"arrows:chevron-right",iconOnly:!0,onClick:k,children:"Scroll Right"})]})})]})}),(0,p.jsx)(b,{"data-testid":"carousel-list-wrapper",children:(0,p.jsx)(u.A,{ref:l,children:(0,p.jsx)(j,{ref:a,scrollPercent:w,children:d.map(((e,t)=>(0,p.jsx)(C,{scroll:h,index:t,columns:s,children:e},"".concat(t))))})})})]})}}}]);