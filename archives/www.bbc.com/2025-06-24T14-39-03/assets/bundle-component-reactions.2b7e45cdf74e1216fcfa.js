"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[2335],{75712:(e,t,r)=>{r.d(t,{A:()=>Te});var n=r(63696),i=r(89958),a=r(20641),o=r(91785),c=r(468),l=r(11545),s=r(55522),u=r(27813),d=r(27336),p=r(55095),v=r(16061),f=r(74437),y=r(62540),g=(0,i.default)("div",{target:"evp3dmw4",label:"ErrorWrapper"})("align-items:start;display:flex;flex-direction:column;color:",(e=>{var{theme:t}=e;return t.colourPalette.secondary}),";padding-left:",f.SPACING_3,";"),b=(0,i.default)("div",{target:"evp3dmw3",label:"ErrorTitleWrapper"})("display:flex;flex-direction:row;padding-bottom:",f.SPACING_2,";"),m=(0,i.default)("p",{target:"evp3dmw2",label:"ErrorTitle"})(l.K1,";"),h=(0,i.default)("span",{target:"evp3dmw1",label:"IconWrapper"})("margin-right:",f.SPACING_1,";height:",(0,c.A)(20),";width:",(0,c.A)(16),";"),O=(0,i.default)("p",{target:"evp3dmw0",label:"ErrorText"})(l.cx,";");const j=e=>{var{error:t}=e,{title:r,message:n}=t;return(0,y.jsxs)(g,{"aria-live":"polite",children:[(0,y.jsxs)(b,{children:[(0,y.jsx)(h,{children:(0,y.jsx)(s.A,{type:"labels:warning"})}),(0,y.jsx)(m,{children:r})]}),(0,y.jsx)(O,{children:n})]})};var k=r(95584),T=["children","isTrackingEnabled","tracking"];function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var P=e=>{var{children:t,isTrackingEnabled:r,tracking:n}=e,i=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,T);return r?(0,y.jsx)(k.C,A(A({tracking:n},i),{},{children:t})):t({trackRef:null})},E=r(63548);function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var D=(0,i.default)("div",{target:"e1sdqgsa2",label:"ModalWrapper"})("width:",(0,c.A)(304),";top:",(e=>{var{layout:t}=e;return"right"===(null==t?void 0:t.modalSide)?(0,c.A)(40):(0,c.A)(32)}),";position:absolute;",(e=>{var{layout:t}=e;return"right"===(null==t?void 0:t.modalSide)&&"left: ".concat((0,c.A)(-10),";")})," z-index:",v.o.REACTIONS_MODAL,";[data-testid='modal-panel-icon']{display:none;}#modal-panel{display:flex;width:100%;justify-content:space-between;}#close{width:min-content;height:min-content;}[class*='StyledPanel']{padding:revert;background-color:",(e=>{var{theme:t}=e;return t.colourPalette.background}),";color:",(e=>{var{theme:t}=e;return t.colourPalette.primary}),";border:",(0,c.A)(1)," solid ",(e=>{var{theme:t}=e;return t.colourPalette.primary}),";&:before{content:'';position:absolute;background-color:",(e=>{var{theme:t}=e;return t.colourPalette.background}),";clip-path:polygon(0 100%, 50% 0, 100% 100%);width:",(0,c.A)(16),";height:",(0,c.A)(12),";top:",(0,c.A)(-11),";left:",(e=>{var{layout:t}=e;return"right"===(null==t?void 0:t.modalSide)?(0,c.A)(10):(0,c.A)(272)}),";}}[class*='ErrorTriangle']{background-color:",(e=>{var{theme:t}=e;return t.colourPalette.primary}),";margin-left:",(e=>{var{layout:t}=e;return"right"===(null==t?void 0:t.modalSide)?(0,c.A)(11):(0,c.A)(273)}),";}[class*='Greeting']{font-size:",(0,c.A)(16),";color:",(e=>{var{theme:t}=e;return t.colourPalette.secondary}),";}"),I=(0,i.default)("div",{target:"e1sdqgsa1",label:"ModalTextWrapper"})("margin:",f.SPACING_4," 0 ",f.SPACING_4," ",f.SPACING_4,";"),_=(0,i.default)("div",{target:"e1sdqgsa0",label:"ModalContents"})({name:"uqztsn",styles:"display:flex;flex-direction:row;justify-content:space-between;width:100%"});const L=e=>{var{onClose:t,error:r,config:i,layout:a,isTrackingEnabled:o,trackingArgs:c}=e,l=(0,n.useRef)(null);(0,n.useEffect)((()=>{var e=e=>{l.current.contains(e.target)||t()};return document.addEventListener("focus",e,!0),()=>{document.removeEventListener("focus",e,!0)}}),[t]),(0,n.useEffect)((()=>{l.current.focus()}),[]);var s=i.customModal,v=(0,u.u)(),f=Boolean(!r&&o),{closeTracking:g,viewTracking:b}=(e=>{var{trackingArgs:t,isTrackingEnabled:r}=e;return r?{closeTracking:(0,E.D9)(C(C({},t),{},{headline:"Close",itemName:"Close",itemPosition:0,itemType:"button"})),viewTracking:(0,E.D9)(C({},t))}:{closeTracking:!1,viewTracking:!1}})({trackingArgs:c,isTrackingEnabled:o});return(0,y.jsx)(u.a,{theme:v.updateTheme({colourScheme:a.modalTheme}),children:(0,y.jsx)(P,{isTrackingEnabled:f,tracking:b,trackClicks:!1,children:e=>{var{trackRef:n}=e;return(0,y.jsx)(D,{layout:a,"data-testid":"reactions-modal",ref:n,children:(0,y.jsx)(p.Ay,{id:"modal-panel",renderOption:"UPWARD_ARROW",children:(0,y.jsxs)(_,{ref:l,tabIndex:0,role:"dialog",children:[(0,y.jsxs)(I,{"aria-live":"assertive",children:[(0,y.jsx)("div",{"aria-live":"assertive",children:r&&(0,y.jsx)(j,{error:r})}),!r&&(0,y.jsx)(s,{})]}),(0,y.jsx)(P,{isTrackingEnabled:f,tracking:g,trackView:!1,children:e=>{var{trackRef:r}=e;return(0,y.jsx)(d.A,{onClick:()=>t(!0),id:"close",emphasis:"low",alignContent:"start",iconType:"actions:close",iconOnly:!0,cornerFit:!0,"aria-label":"Close the modal","data-testid":"reactions-modal-close",trackRef:r,children:"Close"})}})]})})})}})})};function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function z(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var V,W="SET_INITIAL_SERVICE_STATE",G="SET_MODAL_STATUS",F="SET_ERROR",U="SET_SERVICE_STATE_LOADING",B="SET_SERVICE_STATE_SUCCESS",K="DIFFERENT_REACTION_TYPE_SELECTED",Y="SET_IS_DISABLED",q={modalOpen:!1,error:null,reactionState:{state:"idle"},isDisabled:!0},H=(e,t)=>{switch(t.type){case G:return M(M({},e),{},{modalOpen:t.data.open});case F:return M(M({},e),{},{error:t.data.error,reactionState:{state:"failed"}});case U:return M(M({},e),{},{reactionState:M(M({},e.reactionState),{},{state:"loading"})});case W:return M(M({},e),{},{reactionState:{state:t.data.initialState.state,voteAddition:t.data.initialState.voteAddition}});case B:var{voteAddition:r}=t.data;return M(M({},e),{},{reactionState:M(M({},e.reactionState),{},{state:"success",voteAddition:r})});case K:var{lastClickedReactionType:n,reactionType:i}=t.data;return null!=n&&n.reactionType&&n.reactionType!==i?M(M({},e),{},{reactionState:{state:"idle"}}):e;case Y:var{isDisabled:a}=t.data;return M(M({},e),{},{isDisabled:a});default:throw new Error("Unknown action type - individual reaction reducer - ".concat(t.type))}},J=["trackRef","buttonRef","children"];function Q(e,t,r,n,i,a,o){try{var c=e[a](o),l=c.value}catch(e){return void r(e)}c.done?t(l):Promise.resolve(l).then(n,i)}function X(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Z(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $=e=>{var t,r,{layout:n}=e;return(0,o.AH)(V||(t=["\n  height: ",";\n  width: ",";\n"],r||(r=t.slice(0)),V=Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(r)}}))),null!=n&&n.largeIcon?(0,c.A)(20):(0,c.A)(32),null!=n&&n.largeIcon?(0,c.A)(20):(0,c.A)(16))},ee=(0,i.default)("div",{target:"e16zfrs85",label:"ReactionsWrapper"})({name:"tx386s",styles:"position:relative;display:flex;flex-direction:column;place-items:flex-end"}),te=(0,i.default)("span",{target:"e16zfrs84",label:"IconWrapper"})("position:relative;",(e=>{var{layout:t}=e;return!(null!=t&&t.heartIcon)&&"margin-right: ".concat("large"===(null==t?void 0:t.iconSpacing)?(0,c.A)(10):(0,c.A)(5),";")}),";",(e=>{var{layout:t}=e;return(null==t?void 0:t.heartIcon)&&"margin-left: ".concat("large"===(null==t?void 0:t.iconSpacing)?(0,c.A)(10):(0,c.A)(5),";")}),";",(e=>{var{layout:t,iconType:r}=e;return(null==t?void 0:t.heartIcon)&&"participate:love"===r&&"color: #e63f23"}),";",$,";"),re=(e,t,r)=>null!=e&&e.heartIcon&&"participate:love"===r?"#e63f23":"hyperlink"===(null==e?void 0:e.iconColour)?t.colourPalette.hyperlink:t.colourPalette.states.interactionHover,ne=(0,i.default)("span",{target:"e16zfrs83",label:"FilledIcon"})("position:absolute;",(e=>{var{layout:t,filled:r,theme:n,iconType:i,isDisabled:a}=e;return r?"color: ".concat(re(t,n,i)):a&&"opacity: 0.6"}),";",(e=>{var{layout:t,theme:r}=e;return null!=t&&t.transparentIcon?"":"background: ".concat(r.colourPalette.background,";")})," ",$," top:0;left:0;"),ie=(0,i.default)("span",{target:"e16zfrs82",label:"LoadingIcon"})("position:absolute;",(e=>{var{layout:t,theme:r,iconType:n}=e;return"color: ".concat(re(t,r,n))}),";",(e=>{var{layout:t,theme:r}=e;return null!=t&&t.transparentIcon?"":"background: ".concat(r.colourPalette.background,";")}),";",$," top:0;left:0;"),ae=(0,i.default)("span",{target:"e16zfrs81",label:"ReactionsCountWrapper"})(l.K1,";"),oe=(0,i.default)("button",{target:"e16zfrs80",label:"Button"})(l.K1," display:inline-flex;padding:",(e=>{var{layout:t}=e;return"large"===(null==t?void 0:t.iconSpacing)?(0,c.A)(12):(0,c.A)(5)}),";color:",(e=>{var{theme:t}=e;return t.colourPalette.primary}),";:focus,:hover{cursor:pointer;",ne,"{display:block;}}[data-filled='succeeded']{display:block;}align-items:center;flex-direction:",(e=>{var{layout:t}=e;return null!=t&&t.heartIcon?"row-reverse":"row"}),";"),ce=e=>{var{trackRef:t,buttonRef:r,children:i}=e,a=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,J);return i(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?X(Object(r),!0).forEach((function(t){Z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({trackRef:(0,n.useCallback)((e=>{"function"==typeof t&&t(e),r.current=e}),[r,t])},a))},le=e=>{var{reactionState:t,iconType:r,layout:n,isDisabled:i}=e,a=t.state&&t.voteAddition,o=a?"".concat(r,"-filled"):r;return"loading"===t.state?(0,y.jsx)(te,{layout:n,children:(0,y.jsx)(ie,{"data-testid":"loading-spinner",layout:n,iconType:r,children:(0,y.jsx)(s.A,{type:"playback-avkx:loading"})})}):(0,y.jsx)(te,{layout:n,iconType:r,children:(0,y.jsx)(ne,{"data-testid":"vote-icon-".concat(o),filled:a,"data-filled":o,layout:n,iconType:r,isDisabled:i,children:(0,y.jsx)(s.A,{type:o})})})};const se=e=>{var{reactionCount:t,onReactionChange:r,reactionType:i,action:a,lastClickedReactionType:o,onReaction:c,config:l,layout:s,isTrackingEnabled:u,trackingArgs:d,customModalTrackingArgs:p,actionLabels:v={}}=e,f=(0,n.useRef)(null),[g,b]=(0,n.useReducer)(H,q),[m,h]=(0,n.useState)("");(0,n.useEffect)((()=>{var e="loading"===g.reactionState.state||"success"===g.reactionState.state&&!(null!=l&&l.allowReactionRemoval)||l.isDisabled;b({type:Y,data:{isDisabled:e}})}),[null==l?void 0:l.allowReactionRemoval,l.isDisabled,g.reactionState.state]),(0,n.useEffect)((()=>{l.initialReactionState&&b({type:W,data:{initialState:l.initialReactionState}})}),[l.initialReactionState]),(0,n.useEffect)((()=>{b({type:K,data:{lastClickedReactionType:o,reactionType:i}})}),[o,i]);var O=null!=s&&s.heartIcon?"participate:love":"participate:like",j="positive"===i?O:"participate:dislike";(0,n.useEffect)((()=>{var e="positive"===i?"likes":"dislikes",r=g.reactionState.state&&g.reactionState.voteAddition?v.performedAction:v.performAction;h("".concat(r,". Number of ").concat(e,": ").concat(t))}),[g.reactionState.state,g.reactionState.voteAddition,t,i,v]);var k=()=>{b({type:G,data:{open:!0}})},T=function(){var e,t=(e=function*(){if(null!=l&&l.isModalForced&&null!=l&&l.isModalForced())k();else{var e,t,n=!0;null!=l&&l.allowReactionRemoval&&(n=null===(e=g.reactionState)||void 0===e||!e.voteAddition||!(null!==(t=g.reactionState)&&void 0!==t&&t.voteAddition)),b({type:U});try{var s=yield c({reactionType:i,voteAddition:n,lastClickedReactionType:o});if(null!=s&&s.preventReaction)return void b({type:W,data:{initialState:g.reactionState}});b({type:B,data:{voteAddition:n}}),r(i,n,a)}catch(e){var u,d,p;try{p=JSON.parse(e.message)}catch(e){}b({type:F,data:{error:{title:(null===(u=p)||void 0===u?void 0:u.title)||"Sorry, there was a problem",message:(null===(d=p)||void 0===d?void 0:d.message)||"Please try again later."}}}),k()}}},function(){var t=this,r=arguments;return new Promise((function(n,i){var a=e.apply(t,r);function o(e){Q(a,n,i,o,c,"next",e)}function c(e){Q(a,n,i,o,c,"throw",e)}o(void 0)}))});return function(){return t.apply(this,arguments)}}(),S=u&&(e=>{var{isDeselect:t,reactionType:r,trackingArgs:n}=e,i=(e=>{var{reactionType:t,isDeselect:r}=e,n="positive"===t?"like":"dislike";return r?"".concat(n,"-deselect"):n})({isDeselect:t,reactionType:r}),a="positive"===r?"Like":"Dislike";return(0,E.D9)(C(C({},n),{},{itemLabel:a,headline:a,itemPosition:"positive"===r?0:1,itemName:i}))})({trackingArgs:d,isDeselect:g.reactionState.voteAddition,reactionType:i});return(0,y.jsxs)(ee,{children:[g.modalOpen&&(0,y.jsx)(L,{layout:s,config:l,error:g.error,onClose:e=>function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];b({type:G,data:{open:!1}}),e&&f.current.focus()}(e),isTrackingEnabled:u,trackingArgs:p}),(0,y.jsx)(P,{isTrackingEnabled:u,tracking:S,trackView:!1,children:e=>{var{trackRef:r}=e;return(0,y.jsx)(ce,{trackRef:r,buttonRef:f,children:e=>{var{trackRef:r}=e;return(0,y.jsxs)(oe,{"data-testid":"".concat(i,"-reaction"),onClick:T,"aria-label":m,disabled:g.isDisabled,role:"button",ref:r,layout:s,className:"reaction-button",children:[(0,y.jsx)(le,{iconType:j,reactionState:g.reactionState,layout:s,isDisabled:g.isDisabled}),(0,y.jsx)(ae,{layout:s,"data-testid":"".concat(i,"-reaction-count"),children:t})]})}})}})]})};function ue(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function de(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(r),!0).forEach((function(t){pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ue(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pe(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ve="SET_INITIAL_STATE",fe="POSITIVE_VOTE",ye="NEGATIVE_VOTE",ge={positiveCount:0,negativeCount:0,lastClickedReactionType:void 0},be=(e,t)=>{switch(t.type){case fe:var r=Math.max(0,e.positiveCount+t.data.positive),n=Math.max(0,e.negativeCount-1),i=t.data.lastReactionType,{config:a}=t.data;return a.updateLocalReaction&&a.updateLocalReaction({positiveCount:r,negativeCount:n,lastClickedReactionType:i}),de(de({},e),{},{positiveCount:r,negativeCount:n,lastClickedReactionType:i,isInitialState:!1});case ye:var o=Math.max(0,e.positiveCount-1),c=Math.max(0,e.negativeCount+t.data.negative),l=t.data.lastReactionType,{config:s}=t.data;return s.updateLocalReaction&&s.updateLocalReaction({positiveCount:o,negativeCount:c,lastClickedReactionType:l}),de(de({},e),{},{positiveCount:o,negativeCount:c,lastClickedReactionType:l,isInitialState:!1});case ve:var{positiveCount:u,negativeCount:d,lastClickedReactionType:p}=t.data;return de(de({},e),{},{positiveCount:u,negativeCount:d,lastClickedReactionType:p,isInitialState:!0});default:throw new Error("Unknown action type - reactions reducer - ".concat(t.type))}};function me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function he(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?me(Object(r),!0).forEach((function(t){Oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Oe(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var je=(0,i.default)("div",{target:"eyrprsh0",label:"Wrapper"})(a.tc," margin-left:auto;display:flex;position:relative;>:first-child button.reaction-button{padding-left:0;}",(e=>{var{layout:t}=e;return"right"===(null==t?void 0:t.modalSide)?">:not(:first-child) div { left: 0px; }":""}),";"),ke=e=>{var{config:t,postTitle:r,reactionType:n}=e,i=(e=>e.isOnPost?"post":e.isVideo?"video":"comment")(t),a="positive"===n?"Like":"Dislike",o="positive"===n?"liked":"disliked",c="positive"===n?"You have removed the like from":"You have removed the dislike from";if("comment"===i)return{performAction:"".concat(a," comment"),performedAction:"You have ".concat(o," this comment"),performedRemoveAction:"".concat(c," this comment")};var l=r?"the ".concat(i,": ").concat(r):i,s=r?l:"the ".concat(l);return{performAction:"".concat(a," ").concat(l),performedAction:"You have ".concat(o," ").concat(s),performedRemoveAction:"".concat(c," ").concat(s)}};const Te=e=>{var{ratings:t,initialReaction:r,onReaction:i,config:a={allowReactionRemoval:!1,allowNegativeReaction:!1,isModalForced:()=>!1,updateLocalReaction:void 0,isDisabled:!1,setAnnouncement:()=>{},isOnPost:!1,isSFV:!1},layout:o={transparentIcon:!0,largeIcon:!0,heartIcon:!1,iconSpacing:"large",iconColour:"hyperlink",modalSide:"left"},isTrackingEnabled:c=!1,trackingArgs:l={},customModalTrackingArgs:s={},postTitle:u}=e,[d,p]=(0,n.useReducer)(be,ge);(0,n.useEffect)((()=>{r&&p({type:ve,data:{positiveCount:r.positive,negativeCount:r.negative,lastClickedReactionType:r.lastClicked}})}),[r]);var v=ke({config:a,postTitle:u,reactionType:"positive"}),f=ke({config:a,postTitle:u,reactionType:"negative"}),g=(e,r,n)=>{var i,o,c=r?1:-1,l=r?{reactionType:e,action:n}:null;"positive"===e?(p({type:fe,data:{positive:c,lastReactionType:l,voteAddition:r,config:a}}),null===(i=a.setAnnouncement)||void 0===i||i.call(a,r?"".concat(v.performedAction,". Number of likes: ").concat(t.positive+c):"".concat(v.performedRemoveAction,". Number of likes: ").concat(t.positive))):(p({type:ye,data:{negative:c,lastReactionType:l,voteAddition:r,config:a}}),null===(o=a.setAnnouncement)||void 0===o||o.call(a,r?"".concat(f.performedAction,". Number of dislikes: ").concat(t.negative+c):"".concat(f.performedRemoveAction,". Number of dislikes: ").concat(t.negative)))},b=c&&(e=>C(C({},e),{},{groupName:"Reactions",groupType:"reactions",itemType:"reaction"}))(l),m=c&&(e=>{var{trackingArgs:t}=e;return(0,E.D9)(C({},t))})({trackingArgs:l});return(0,y.jsx)(P,{isTrackingEnabled:c,trackClicks:!1,tracking:m,children:e=>{var{trackRef:r}=e;return(0,y.jsxs)(je,{"data-testid":"reactions",layout:o,ref:r,children:[(0,y.jsx)(se,{reactionCount:d.positiveCount+t.positive,reactionType:"positive",action:"liked",onReactionChange:g,lastClickedReactionType:d.lastClickedReactionType,config:he(he({},a),{},{initialReactionState:d.isInitialState&&{state:(null==d?void 0:d.positiveCount)>0?"succeeded":void 0,voteAddition:(null==d?void 0:d.positiveCount)>0}}),layout:o,onReaction:i,isTrackingEnabled:c,trackingArgs:b,customModalTrackingArgs:s,actionLabels:v,postTitle:u}),a.allowNegativeReaction&&(0,y.jsx)(se,{reactionCount:d.negativeCount+t.negative,reactionType:"negative",action:"disliked",onReactionChange:g,lastClickedReactionType:d.lastClickedReactionType,config:he(he({},a),{},{initialReactionState:d.isInitialState&&{state:(null==d?void 0:d.negativeCount)>0?"succeeded":void 0,voteAddition:(null==d?void 0:d.negativeCount)>0||void 0}}),layout:o,onReaction:i,isTrackingEnabled:c,trackingArgs:b,customModalTrackingArgs:s,actionLabels:f,postTitle:u})]})}})}}}]);