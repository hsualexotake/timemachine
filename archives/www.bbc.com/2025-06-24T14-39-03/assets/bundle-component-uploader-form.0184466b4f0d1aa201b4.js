"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[6418],{50703:(e,r,t)=>{t.d(r,{A:()=>p}),t(63696);var n=t(89958),i=t(26934),a=t(74437),o=t(20641),s=t(468),c=t(11545),l=t(64686),u=t(62540),d=(0,n.default)("div",{target:"e1l0lcpu0",label:"RichTextContainer"})("color:",(e=>{var{theme:r}=e;return r.colourPalette.primary}),";overflow-wrap:break-word;>",i.A,"{margin-top:",a.SPACING_4,";}i,em{font-style:italic;}b,strong{",o.jG,";}ul{list-style:disc;padding-left:1.75em;>",i.A,"{margin-top:1em;}}ol{list-style:decimal;padding-left:1.75em;>",i.A,"{margin-top:1em;}& &{list-style:lower-alpha;}& & &{list-style:lower-roman;}}a{&:link{color:",(e=>{var{theme:r}=e;return r.colourPalette.primary}),";}&:visited{color:",(e=>{var{theme:r}=e;return r.colourPalette.secondary}),";}&:link,&:visited{",o.jG," border-bottom:",(0,s.A)(1)," solid ",(e=>{var{theme:r}=e;return r.colourPalette.border}),";text-decoration:none;@supports (text-underline-offset: 0.25em){border-bottom:none;text-decoration:underline ",(e=>{var{theme:r}=e;return r.colourPalette.border}),";text-decoration-thickness:",(0,s.A)(1),";text-decoration-skip-ink:none;text-underline-offset:0.25em;}&:hover,&:focus{border-bottom-color:currentcolor;border-bottom-width:",(0,s.A)(2),";text-decoration-color:currentcolor;text-decoration-thickness:",(0,s.A)(2),";color:",(e=>{var{theme:r}=e;return r.colourPalette.hyperlink}),";}}}h2{",c.j7," ",o.jG,";}h3{",c.Pv," ",o.jG,";}[class$='style-24-20px-headline-medium-500']{",c.j7," font-weight:500;}[class$='style-24-20px-headline-medium-400']{",c.j7,";}[class$='style-20-18px-section-heading-500']{",c.Pv," font-weight:500;}[class$='style-20-18px-section-heading-400']{",c.Pv,";}[class$='style-18-16px-headline-small-500']{",c.Vk," font-weight:500;}[class$='style-18-16px-headline-small-400']{",c.Vk,";}[class$='style-14px-description-regular-400']{",c.cx,";}");const p=e=>{var{html:r}=e;return(0,u.jsx)(l.A,{html:r,type:"noscript",wrapper:d})}},67275:(e,r,t)=>{t.d(r,{A:()=>Ln});var n=t(63696),i=t(41738),a=t(89958),o=t(70349),s=t(17256),c=t(62540),l=(0,a.default)("div",{target:"e1ch4aay0",label:"FullHeightWrapper"})({name:"13udsys",styles:"height:100%"}),u=e=>{var{context:r,children:t,isFullHeight:n}=e;return(0,c.jsx)(i.Is,{context:r,children:n?(0,c.jsx)(l,{lang:(0,s.Mc)(r),children:t}):t})},d=(0,n.createContext)(),p=()=>(0,n.useContext)(d),f=(0,n.createContext)(),m=(0,n.createContext)(),v=()=>(0,n.useContext)(m);const g=e=>{var{context:{language:r,variant:t,uploaderStrings:i,brandLogoUrlRecipe:a,backLinkUrl:o,isEmbedded:s,sendSigninExperimentTrackingEvents:l},baseHeadingLevel:p,children:f}=e,v={variant:t,isEmbedded:s,isFirstRenderRef:(0,n.useRef)(!0),baseHeadingLevel:null!=p?p:1,brandLogoUrlRecipe:a,backLinkUrl:o,sendSigninExperimentTrackingEvents:l};return(0,c.jsx)(u,{context:r,isFullHeight:!s,children:(0,c.jsx)(d.Provider,{value:i,children:(0,c.jsx)(m.Provider,{value:v,children:f})})})},y=e=>{var{setPageTitle:r}=e,{pageTitle:t}=p();return r&&r(t),null};var b=t(81879),h=t(72664),j=t(27813),O=t(91785),x=t(35289),S=t(74437),E=t(468),P=t(94330),R=t(59714),A=t(27336),w=t(31002),k=t(89032),I=t.n(k),C=t(95584),_=t(6841),T=["tracking","children"];function N(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function D(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?N(Object(t),!0).forEach((function(r){L(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):N(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function L(e,r,t){return(r=function(e){var r=function(e){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}const U=e=>{var{tracking:r,children:t}=e,i=function(e,r){if(null==e)return{};var t,n,i=function(e,r){if(null==e)return{};var t={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==r.indexOf(n))continue;t[n]=e[n]}return t}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],-1===r.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}(e,T),a=(()=>{var{analytics:e}=p(),r=(0,n.useContext)(f);return t=>{var{name:n,itemType:i,text:a,url:o,position:s}=t,c={item:{name:n,type:i,text:a,url:o,position:s},group:_.F[r]};return I()({},e,c)}})();return(0,c.jsx)(C.C,D(D({tracking:a(r)},i),{},{children:e=>{var{trackRef:r}=e;return t({trackRef:r})}}))};var M,F=(0,a.default)("div",{target:"e1t1q76u3",label:"StyledPageBackground"})("@supports not (-webkit-touch-callout: none){background-color:",(e=>{var{theme:r}=e;return r.colourPalette.midground}),";position:relative;@media (min-width: ",x.cK,"){background-image:",(e=>{var{pageBackgroundImage:r}=e;return"url(".concat(r,")")}),";background-size:cover;background-attachment:fixed;background-position:top;padding:",S.SPACING_11," 0;height:100%;box-sizing:border-box;}}"),B=(0,a.default)("div",{target:"e1t1q76u2",label:"CloseButtonWrapper"})("background-color:",(e=>{var{theme:r}=e;return r.colourPalette.background}),";display:flex;position:absolute;top:",S.SPACING_4,";right:",S.SPACING_4,";"),G=(0,a.default)("div",{target:"e1t1q76u1",label:"StepPanel"})("padding:0 ",S.SPACING_4," ",S.SPACING_4," ",S.SPACING_4,";background-color:",(e=>{var{theme:r}=e;return r.colourPalette.background}),";@media (min-width: ",x.cK,"){max-width:",(0,E.A)(510),";box-sizing:border-box;padding:0 ",S.SPACING_7," ",S.SPACING_7," ",S.SPACING_7,";margin:0 calc(",S.SPACING_7," + 5%) 0;}@media (min-width: ",x.c$,"){margin-left:",S.SPACING_13,";}@media (min-width: ",x.Xb,"){margin-left:",S.SPACING_14,";}"),H=(0,a.default)("div",{target:"e1t1q76u0",label:"StepPanelBox"})("margin:auto;@media (min-width: ",x.c$,"){max-width:",x.c$,";}@media (min-width: ",x.Xb,"){max-width:",x.Xb,";}");const z=e=>{var r,t,{pageBackgroundUrl:n,step:i,setStep:a,children:s}=e,{ariaLabels:{backToFormStep:l},backLinkText:u}=p(),{variant:d,backLinkUrl:f}=v(),m=n?n.replace(/\$recipe/,"1280xn"):(e=>(0,o.E)(e)?P:R)(d),{colourPalette:g}=(0,j.u)();return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(O.mL,{styles:(0,O.AH)(M||(r=["\n          /* Styles for supporting background images on iOS devices */\n          @supports (-webkit-touch-callout: none) {\n            @media (min-width: ",") {\n              body:after {\n                content: '';\n                position: fixed;\n                top: 0;\n                height: 100vh;\n                left: 0;\n                right: 0;\n                z-index: -1;\n                background: url(",") center top;\n                background-size: cover;\n                background-color: ",";\n              }\n            }\n          }\n        "],t||(t=r.slice(0)),M=Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(t)}}))),x.cK,m,g.midground)}),(0,c.jsxs)(F,{pageBackgroundImage:m,"data-testid":"page-background",children:[(0,c.jsx)(H,{children:(0,c.jsx)(G,{children:s})}),(0,c.jsx)(B,{children:i===h.U.PRIVACY_NOTICE?(0,c.jsx)(U,{tracking:{name:"close",itemType:"button",text:l},children:e=>{var{trackRef:r}=e;return(0,c.jsx)(A.A,{iconOnly:!0,iconType:"actions:close",emphasis:"medium",onClick:()=>a(h.U.FORM),trackRef:r,children:l})}}):(0,c.jsx)(U,{tracking:{name:"close",itemType:"button",text:u,url:f},children:e=>{var{trackRef:r}=e;return(0,c.jsx)(w.A,{iconOnly:!0,iconType:"actions:close",emphasis:"medium",href:f,trackRef:r,children:u})}})})]})]})};var K=t(20641),V=t(11545),q=t(3973),W=t(46853),$=t(15921),X=t(50703),Z=t(54498),Y=t(14810),Q=t(55522);const J=()=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 256 256",children:[(0,c.jsx)("circle",{cx:"50%",cy:"50%",r:"50%",fill:"#ffd201"}),(0,c.jsx)("path",{d:"M38.25,146.84C43.2,135.48,73.13,123,73.13,123s11.21,30.43,6.25,41.79a22.44,22.44,0,0,1-41.13-18Z",fill:"#269dc8"}),(0,c.jsxs)("g",{fill:"#2b2b2b",children:[(0,c.jsx)("path",{d:"M86.43,128.18a29.47,29.47,0,0,1-26.5-16.38,5,5,0,1,1,8.94-4.47,19.62,19.62,0,0,0,35.1,0,5,5,0,1,1,8.94,4.48A29.47,29.47,0,0,1,86.43,128.18Z"}),(0,c.jsx)("path",{d:"M167.93,128.18a29.47,29.47,0,0,1-26.5-16.38,5,5,0,1,1,8.94-4.47,19.62,19.62,0,0,0,35.1,0,5,5,0,1,1,8.94,4.48A29.47,29.47,0,0,1,167.93,128.18Z"}),(0,c.jsx)("path",{d:"M84.51,204a4.15,4.15,0,0,1-3.36-6.59c12.28-16.93,29.9-26.64,48.35-26.64,18,0,35.37,9.34,47.6,25.62a4.15,4.15,0,1,1-6.64,5c-10.8-14.38-25.34-22.3-41-22.3s-30.93,8.46-41.63,23.21A4.15,4.15,0,0,1,84.51,204Z"})]})]}),ee=()=>(0,c.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 239 239",children:[(0,c.jsx)("path",{fill:"#83d43c",d:"M151.74 74.17l-43.93 52.36-24.76-20.77-15.33 18.27 24.75 20.76 18.27 15.33 15.33-18.27L170 89.5l-18.26-15.33z"}),(0,c.jsx)("path",{fill:"#83d43c",d:"M120.5 30A90.5 90.5 0 1 1 30 120.5 90.6 90.6 0 0 1 120.5 30m0-29A119.5 119.5 0 1 0 240 120.5 119.5 119.5 0 0 0 120.5 1z",transform:"translate(-1 -1)"})]}),re=()=>(0,c.jsxs)("svg",{viewBox:"0 0 239 239",fill:"currentcolor",children:[(0,c.jsx)("path",{d:"M119.5 29A90.5 90.5 0 1 1 29 119.5 90.6 90.6 0 0 1 119.5 29m0-29A119.5 119.5 0 1 0 239 119.5 119.5 119.5 0 0 0 119.5 0z"}),(0,c.jsx)("path",{d:"M119.5 148q6 0 9.43 3.46a12 12 0 0 1 3.39 8.78 12.68 12.68 0 0 1-1.52 6.12 10.67 10.67 0 0 1-4.39 4.39 15.81 15.81 0 0 1-13.82 0 10.67 10.67 0 0 1-4.39-4.39 12.68 12.68 0 0 1-1.52-6.12 12 12 0 0 1 3.39-8.78q3.38-3.46 9.43-3.46zm9.22-9.79h-18.44L108.41 68h22.18z"})]});var te="CLOCK",ne="TICK",ie="ERROR",ae=(0,a.default)("div",{target:"e1dwy9jt0",label:"IconWrapper"})((e=>{var{colour:r}=e;return r&&"color: ".concat(r)}),";");const oe=e=>{var{iconType:r,displayChildrensIcon:t}=e,{variant:n,isEmbedded:i}=v(),a=t&&(0,o.E)(n)&&!i,s=(0,j.u)();switch(r){case te:return(0,c.jsx)(ae,{colour:s.colourPalette.primary,children:a?(0,c.jsx)(J,{}):(0,c.jsx)(Q.A,{type:"time-and-date:clock"})});case ne:return(0,c.jsx)(ee,{});default:return(0,c.jsx)(ae,{colour:s.colourPalette.states.error,children:(0,c.jsx)(re,{})})}};var se=(0,a.default)("div",{target:"eva9vik2",label:"LogoContainer"})("height:",(0,E.A)(84),";margin-right:",S.SPACING_6,";background:transparent;"),ce=(0,a.default)("img",{target:"eva9vik1",label:"StyledLogo"})("max-height:",(0,E.A)(84),";max-width:",(0,E.A)(150),";"),le=(0,a.default)("span",{target:"eva9vik0",label:"SizedIcon"})("height:",(0,E.A)(24),";width:",(0,E.A)(84),";min-width:",(0,E.A)(84),";margin-right:",S.SPACING_6,";");const ue=()=>{var{brandLogoUrlRecipe:e}=v(),r=null==e?void 0:e.replace(/\$recipe/,"256xn"),{headerLogo:t}=p();return r?(0,c.jsx)(se,{children:(0,c.jsx)(ce,{src:r,alt:t.branded})}):(0,c.jsx)(le,{role:"img","aria-label":t.default,children:(0,c.jsx)(Q.A,{type:"logo:bbc"})})};var de=e=>e<6?e:6,pe=(0,a.default)("div",{target:"e1enpzvi4",label:"HeaderBannerWrapper"})({name:"h0tpnj",styles:"justify-content:space-between;display:flex;align-items:center"}),fe=(0,a.default)("div",{target:"e1enpzvi3",label:"HeaderWrapper"})(K.tc," ",V.Vk," color:",(e=>{var{theme:r}=e;return r.colourPalette.primary}),";overflow-wrap:break-word;padding-top:",(e=>{var{hasMargin:r}=e;return r?S.SPACING_4:0}),";@media (min-width: ",x.cK,"){padding-top:",(e=>{var{hasMargin:r}=e;return r?S.SPACING_7:0}),";}"),me=(0,a.default)("div",{target:"e1enpzvi2",label:"BackLinkWrapper"})("display:none;@media (min-width: ",x.cK,"){display:block;}"),ve=(0,a.default)("div",{target:"e1enpzvi1",label:"HeaderTextWrapper"})({name:"zjik7",styles:"display:flex"}),ge=(0,a.default)("div",{target:"e1enpzvi0",label:"StatusIconStylingWrapper"})("min-width:",(0,E.A)(56),";width:",(0,E.A)(56),";margin-right:",S.SPACING_4,";@media (min-width: ",x.cK,"){min-width:",(0,E.A)(66),";width:",(0,E.A)(66),";margin-right:",S.SPACING_6,";}"),ye=e=>{var{displayBackLink:r,title:t,description:i,icon:a}=e,{isFirstRenderRef:o,isEmbedded:s,baseHeadingLevel:l,brandLogoUrlRecipe:u,backLinkUrl:d}=v(),f=(0,n.useMemo)((()=>!o.current),[]),{backLinkText:m}=p(),g=de(l);return(0,c.jsx)(fe,{hasMargin:!u&&!s,children:(0,c.jsx)("header",{children:(0,c.jsxs)(q.A,{spacing:6,children:[!s&&(0,c.jsxs)(pe,{children:[(0,c.jsx)(ue,{}),r&&(0,c.jsx)(U,{tracking:{name:"close",itemType:"link",text:m,url:d},children:e=>{var{trackRef:r}=e;return(0,c.jsx)(me,{children:(0,c.jsx)(Y.A,{url:d,trackRef:r,children:m})})}})]}),(0,c.jsxs)(ve,{children:[a&&(0,c.jsx)(ge,{children:(0,c.jsx)(oe,{iconType:a})}),(0,c.jsxs)(q.A,{spacing:2,children:[(0,c.jsx)(Z.A,{shouldGainFocus:f,level:g,fontScale:"headlineSmall",children:t}),i&&(0,c.jsx)(X.A,{html:i})]})]})]})})})};const be=n.memo(ye);var he=t(18313),je=t(78370),Oe=e=>{var r=[];return(e.sections||[]).forEach((e=>{(e.fields||[]).forEach((e=>{e.fieldType===je.Lz.CONDITIONAL_LOGIC_FIELD?(r.push(e),e.options.forEach((e=>{r.push(...e.fieldGroupFields)}))):r.push(e)}))})),r},xe=(e,r)=>{if(null!=e&&e.conditionalOn){var{fieldId:t,fieldValue:n}=e.conditionalOn;return n===r[t]}return!0},Se=(e,r)=>{var t=Object.entries(e).filter((t=>{var[n]=t;return xe(r[n],e)}));return Object.fromEntries(t)},Ee=(e,r)=>{var t=e.filter((e=>e.fieldType===je.Lz.FILE_FIELD)).map((e=>e.id));return{totalSize:Object.entries(r).reduce(((e,r)=>{var[n,i]=r;return t.includes(n)?[...e,...i]:e}),[]).reduce(((e,r)=>e+r.size),0),numberOfFiles:t.length}};const Pe=()=>{var{analytics:e}=p();return(r,t)=>{var n;if(null!==(n=window)&&void 0!==n&&null!==(n=n.Reverb)&&void 0!==n&&n.userActionEvent){var i=k({},r,e);window.Reverb.userActionEvent("viewability",t,i)}}};var Re=t(34826),Ae=t(78486),we=e=>!e.inputRef.current.validity.badInput,ke=[{ruleName:"inputType",ruleBuilder:(e,r)=>({isValid:(e,t)=>{switch(r){case Ae.sF.EMAIL:return(e=>!e||RegExp("^[a-zA-Z0-9#'$%+/=?^_`{|}~-]+(?:\\.[a-zA-Z0-9#'$%+/=?^_`{|}~-]+)*[a-zA-Z0-9#'$%+/=?^_`{|}~-]*@(?:[a-zA-Z0-9](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?\\.)+[a-zA-Z0-9]{2,}$").test(e))(e);case Ae.sF.NUMBER:return((e,r)=>we(r)&&(!e||RegExp("^\\d+$").test(e)))(e,t);case je.Lz.DATE:return we(t);default:return!0}},errorMessage:e})},{ruleName:"mandatory",ruleBuilder:e=>({isValid:e=>Array.isArray(e)?e.some((e=>Boolean(e.checked))):"string"==typeof e?Boolean(e.trim()):Boolean(e),errorMessage:e})},{ruleName:"wordLimitMax",ruleBuilder:(e,r)=>({isValid:e=>(0,Re.sQ)(e)<=r,errorMessage:e})},{ruleName:"wordLimitMin",ruleBuilder:(e,r)=>({isValid:e=>0===(0,Re.sQ)(e)||(0,Re.sQ)(e)>=r,errorMessage:e})}];function Ie(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Ce(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Ie(Object(t),!0).forEach((function(r){_e(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ie(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function _e(e,r,t){return(r=function(e){var r=function(e){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Te=e=>function(r){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return r.map((r=>Ce(Ce({},r),{},{fields:r.fields.map((r=>r.fieldType===je.Lz.CONDITIONAL_LOGIC_FIELD?function(e,r){for(var t=arguments.length,n=new Array(t>2?t-2:0),i=2;i<t;i++)n[i-2]=arguments[i];return Ce(Ce({},e(r,...n)),{},{options:r.options.map((r=>Ce(Ce({},r),{},{fieldGroupFields:r.fieldGroupFields.map((r=>e(r,...n)))})))})}(e,r,...n):e(r,...n)))})))},Ne=Te(((e,r)=>e.id in r?Ce(Ce({},e),{},{errorMessage:r[e.id]}):e)),De=Te((e=>Ce(Ce({},e),{},{isSubmitted:!0}))),Le=Te(((e,r)=>e.fieldType===je.Lz.FILE_FIELD?Ce(Ce({},e),{},{displayFileDetails:r}):e)),Ue=Te(((e,r)=>Ce(Ce({},e),{},{inputRef:(0,n.createRef)(),setHasValidationErrors:t=>r((r=>Ce(Ce({},r),{},{[e.id]:t})))}))),Me=t(55095),Fe=(0,a.default)("div",{target:"ebgikpg1",label:"ErrorSummaryTitle"})(K.jG,";"),Be=(0,a.default)("a",{target:"ebgikpg0",label:"ErrorLink"})("display:block;",K.jG," padding-top:",S.SPACING_2,";color:",(e=>{var{theme:r}=e;return r.colourPalette.background}),";&:link{color:",(e=>{var{theme:r}=e;return r.colourPalette.background}),";}&:hover,&:focus{text-decoration:underline;}"),Ge="VALIDATION_ERROR",He="TOTAL_FILE_SIZE_ERROR",ze="NO_ERROR",Ke=e=>{var{fieldType:r}=e[0];return"checkbox-list"===r?"#".concat(e[0].id,"-").concat(e[0].options[0].value):"#".concat(e[0].id)},Ve=(e,r,t)=>{var n=r[t];return t===Ge?e.length>1?n.many.replace(/{{errorCount}}/g,null==e?void 0:e.length):n.one:n};const qe=e=>{var{errorSummaryType:r,errors:t}=e,i=(0,n.useRef)(null);(0,n.useEffect)((()=>{var e;null==i||null===(e=i.current)||void 0===e||e.focus()}),[]);var{errorMessages:{summary:{tooLargeDescription:a,genericDescription:o,title:s},errorLinkText:l}}=p(),u={[Ge]:o,[He]:a};return(0,c.jsx)(Me.Ay,{role:"alert",children:(0,c.jsxs)(q.A,{spacing:2,children:[(0,c.jsx)(Fe,{children:s}),Ve(t,u,r),r===Ge&&(0,c.jsx)(Be,{ref:i,href:Ke(t),children:l})]})})};var We="UPDATE_MULTIPLE_ERRORS",$e="CLEAR_ERROR",Xe="SET_ALL_SUBMITTED",Ze="SET_DISPLAY_FILE_DETAILS",Ye=(e,r)=>{switch(r.type){case We:return Ne(e,r.payload);case $e:return Ne(e,{[r.payload]:void 0});case Xe:return De(e);case Ze:return Le(e,r.payload);default:return e}};const Qe=(e,r,t,i)=>{var a,[o,s]=(0,n.useState)({}),c=Ue(t,s),[l,u]=(0,n.useReducer)(Ye,c),d=Oe({sections:l}),p=(a=Pe(),e=>{var r={item:{name:"validation",type:e},group:_.F[h.U.FORM],event:{category:"error"}};a(r)});return{allSectionsIncludingErrors:l,clearError:t=>{u({type:$e,payload:t}),((e,r,t,n,i)=>{Object.values(r).some((r=>{var i;return r.id!==e&&(null===(i=t[r.id].conditionalOn)||void 0===i?void 0:i.fieldId)!==e&&xe(t[r.id],n)&&Boolean(r.errorMessage)}))||i(ze)})(t,d,r,e,i)},validateAndSubmit:t=>n=>{n.preventDefault(),u({type:Xe}),u({type:Ze,payload:!1});var a=Se(e,r),s=((e,r,t,n)=>{var i={};return Object.entries(e).forEach((e=>{var[a,o]=e;if(a in t)i[a]=t[a];else{var s=n.find((e=>e.id===a)),c=(e=>{var r=[];return ke.forEach((t=>{var{ruleName:n,ruleBuilder:i}=t,a=e[n];if(a){var o=i(a.errorMessage,a.ruleValue);r.push(o)}})),r})(r[a]),l=c.find((e=>!e.isValid(o,s)));i[a]=l?l.errorMessage:void 0}})),i})(a,r,o,d);Object.values(s).some((e=>Boolean(e)))?(p("general"),u({type:We,payload:s}),i(Ge,((e,r)=>Object.keys(e).map((t=>e[t]&&r.find((e=>e.id===t)))).filter(Boolean))(s,d))):Ee(d,a).totalSize>he.c?(p("file-size"),u({type:Ze,payload:!0}),i(He)):t()}}};var Je=t(90994);function er(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function rr(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?er(Object(t),!0).forEach((function(r){tr(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):er(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function tr(e,r,t){return(r=function(e){var r=function(e){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var nr="UPDATE_FIELD",ir="RESET_FORM";var ar,or,sr,cr=(0,O.AH)(ar||(or=["\n  margin: "," -",";\n  @media (min-width: ",") {\n    margin: "," -",";\n  }\n"],sr||(sr=or.slice(0)),ar=Object.freeze(Object.defineProperties(or,{raw:{value:Object.freeze(sr)}}))),S.SPACING_4,S.SPACING_2,x.cK,S.SPACING_7,S.SPACING_4),lr=(0,a.default)("hr",{target:"epok6cl0",label:"StyledDivider"})("border:none;height:",(0,E.A)(1),";background-color:",(e=>{var{theme:r}=e;return r.colourPalette.border}),";margin:",S.SPACING_4," 0;",(e=>{var{isEmbedded:r}=e;return!r&&cr}),";");const ur=()=>{var{isEmbedded:e}=v();return(0,c.jsx)(lr,{isEmbedded:e,"aria-hidden":"true"})};function dr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function pr(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?dr(Object(t),!0).forEach((function(r){fr(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):dr(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function fr(e,r,t){return(r=function(e){var r=function(e){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var mr=(e,r)=>{var t=Oe({sections:e});if(0===t.length)return!1;var n,i=t[0];return(n=i).fieldType===Je.b.FILE_FIELD&&n.minFiles>=1&&!((e,r)=>0!==r[e].length)(i.id,r)};const vr=e=>{var{sections:r,formStateReducer:t,clearError:i,displayFirstFieldOnly:a,setDisplayFirstFieldOnly:o}=e,{formState:s,formStateDispatch:l}=t,u=(e,r)=>{i(r),l({type:nr,payload:{fieldId:r,fieldValue:e}})};(0,n.useEffect)((()=>{a&&!mr(r,s)&&o(!1)}),[a,s,r,o]);var{baseHeadingLevel:d}=v(),p=de(d+1),f=a?(e=>{var r=[];return e.every((e=>{var t=e.fields||[];return t.length>0?(r.push(pr(pr({},e),{},{fields:[t[0]]})),!1):(r.push(e),!0)})),r})(r):r;return(0,c.jsx)(c.Fragment,{children:f.map(((e,r)=>{var{sectionText:{title:t,description:i,legend:a},fields:o}=e;return(0,c.jsxs)(n.Fragment,{children:[(0,c.jsx)(ur,{}),(0,c.jsx)(je.Ay,{title:t,description:i,legend:a,fields:o,fieldChangeHandler:u,fieldValues:s,headingLevel:p})]},r)}))})};var gr=(0,a.default)("div",{target:"eq50zbk1",label:"IconWrapper"})("flex:none;align-self:flex-start;margin-right:",S.SPACING_2,";width:",(0,E.A)(20),";height:",(0,E.A)(20),";"),yr=(0,a.default)("div",{target:"eq50zbk0",label:"U13PrivacyNotice"})(K.tc," ",V.cx," display:flex;flex-direction:row;margin-bottom:-",S.SPACING_4,";@media (min-width: ",x.cK,"){margin:-",S.SPACING_4," 0;}");const br=e=>{var{onClick:r,under13PrivacyLinkRef:t,trackRef:n}=e,{formStep:{privacyCta:i,privacyLinkText:a}}=p();return(0,c.jsxs)("div",{children:[(0,c.jsx)(ur,{}),(0,c.jsxs)(yr,{ref:n,children:[(0,c.jsx)(gr,{children:(0,c.jsx)(Q.A,{type:"labels:info"})}),(0,c.jsxs)("span",{children:[i,(0,c.jsx)(Y.A,{url:"#",onClick:e=>{e.preventDefault(),r()},trackRef:t,children:a})]})]})]})};var hr=(0,a.default)("form",{target:"ekpve5v1",label:"Form"})(K.tc," ",V.K1," color:",(e=>{var{theme:r}=e;return r.colourPalette.primary}),";display:block;"),jr=(0,a.default)("div",{target:"ekpve5v0",label:"PrivacyNotice"})(V.cx,";");const Or=e=>{var{config:r,formStateReducer:t,onSubmit:i,formRuleOptions:a,privacyNoticeClickHandler:s,refToFocus:l}=e,{title:u,description:d,privacyNotice:f,settings:{signinRequired:m}}=r,{submitButtonText:g,formStep:{privacyLinkText:y}}=p(),{variant:b}=v(),j=(e=>e===o.H.childrensCompetition||e===o.H.competition)(b),O=m&&(0,W.rF)()===$.Vk.UNDER_13&&!j,{formState:x}=t,[S,E]=(0,n.useState)(mr(r.sections,x)),{errorSummaryType:P,errorSummaryPanelKey:R,updateErrorSummaryPanel:w,showErrorSummaryPanel:k,errors:I}=(()=>{var[e,r]=(0,n.useReducer)((e=>"a"===e?"b":"a"),"a"),[t,i]=(0,n.useState)(ze),[a,o]=(0,n.useState)([]);return{errorSummaryType:t,errorSummaryPanelKey:e,updateErrorSummaryPanel:(e,t)=>{i(e),o(t),r()},showErrorSummaryPanel:t!==ze,errors:a}})(),{allSectionsIncludingErrors:C,validateAndSubmit:_,clearError:T}=Qe(x,a,r.sections,w),N=(0,n.useRef)(null);return(0,n.useEffect)((()=>{N.current&&N.current.scrollIntoView({behavior:"smooth",block:"end"})}),[R]),(0,c.jsxs)(hr,{noValidate:!0,onSubmit:_(i),children:[(0,c.jsxs)(q.A,{spacing:7,children:[(0,c.jsx)(be,{displayBackLink:!0,title:u,description:d}),O&&(0,c.jsx)(U,{tracking:{name:"privacy-link",text:y,step:h.U.FORM},children:e=>{var{trackRef:r}=e;return(0,c.jsx)(br,{onClick:s,under13PrivacyLinkRef:l,trackRef:r})}}),(0,c.jsx)(vr,{sections:C,formStateReducer:t,clearError:T,displayFirstFieldOnly:S,setDisplayFirstFieldOnly:E}),!S&&(0,c.jsxs)(q.A,{spacing:4,children:[!O&&(0,c.jsx)(jr,{children:(0,c.jsx)(X.A,{html:f.default})}),k&&(0,c.jsx)(qe,{errorSummaryType:P,errors:I},R),(0,c.jsx)(U,{tracking:{name:"submit-form",text:g},suppressNavigationOnClick:!0,children:e=>{var{trackRef:r}=e;return(0,c.jsx)(A.A,{type:"submit",width:"full",trackRef:r,children:g})}})]})]}),k&&(0,c.jsx)("div",{ref:N})]})};var xr=t(46792),Sr=(0,a.default)("div",{target:"ec5pb1u0",label:"StyledIconBackground"})("background-image:",(e=>{var{iconBackgroundUrl:r}=e;return r}),";background-repeat:no-repeat;margin:0 -",S.SPACING_4,";@media (min-width: ",x.cK,"){margin:0 -",S.SPACING_7,";}");const Er=e=>{var{iconBackgroundUrl:r,children:t}=e,{variant:n,isEmbedded:i}=v(),a=(0,o.E)(n)&&!i;return(0,c.jsx)(Sr,{iconBackgroundUrl:a&&r?"url(".concat(r,")"):"none","data-testid":"icon-background",children:t})};var Pr=(0,a.default)("div",{target:"ewhwcx20",label:"StatusIconWithinBackground"})({name:"14c9qim",styles:"display:block;justify-content:center;position:relative;width:46.66667%;margin:auto;svg{display:block;}"});const Rr=e=>{var{iconType:r,iconBackgroundUrl:t}=e;return(0,c.jsx)(Er,{iconBackgroundUrl:t,children:(0,c.jsx)(Pr,{children:(0,c.jsx)(oe,{iconType:r,displayChildrensIcon:!0})})})};var Ar=(0,a.default)("div",{target:"esq4liy1",label:"SummaryTitle"})(K.NP," ",V.j7," color:",(e=>{var{theme:r}=e;return r.colourPalette.primary}),";"),wr=(0,a.default)("div",{target:"esq4liy0",label:"SummaryDescription"})(K.tc," ",V.Vk," color:",(e=>{var{theme:r}=e;return r.colourPalette.primary}),";");const kr=e=>{var{title:r,iconType:t,iconBackgroundUrl:n,summaryTitle:i,summaryDescription:a,displayCta:o=!0,children:s}=e,{isEmbedded:l,backLinkUrl:u}=v(),{backLinkText:d}=p(),f=o&&!l;return(0,c.jsxs)(q.A,{spacing:7,children:[(0,c.jsx)(be,{displayBackLink:!0,title:r}),(0,c.jsx)(Rr,{iconType:t,iconBackgroundUrl:n}),(0,c.jsxs)(q.A,{spacing:4,children:[(0,c.jsx)(Ar,{children:i}),(0,c.jsx)(wr,{children:a}),s]}),f&&(0,c.jsx)(U,{tracking:{name:"close",itemType:"cta",text:d,url:u},children:e=>{var{trackRef:r}=e;return(0,c.jsx)(w.A,{width:"full",emphasis:"high",href:u,trackRef:r,children:d})}})]})},Ir=e=>{var{title:r}=e,{preOpenStep:{descriptionRichText:t,title:n}}=p();return(0,c.jsx)(kr,{title:r,summaryTitle:n,summaryDescription:(0,c.jsx)(X.A,{html:t}),iconType:te,iconBackgroundUrl:xr})};var Cr=t(49565),_r=t(10737),Tr=t(24298);function Nr(e,r,t,n,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void t(e)}s.done?r(c):Promise.resolve(c).then(n,i)}function Dr(e){return function(){var r=this,t=arguments;return new Promise((function(n,i){var a=e.apply(r,t);function o(e){Nr(a,n,i,o,s,"next",e)}function s(e){Nr(a,n,i,o,s,"throw",e)}o(void 0)}))}}var Lr=(e,r)=>{var t=r&&!r.endsWith(".com")?".co.uk":".com";return"https://idcta".concat("live"===e?"":".test",".api.bbc").concat(t,"/idcta")},Ur=e=>{var r;switch(null!==(r=null==e?void 0:e.split("-")[0])&&void 0!==r?r:"en"){case"cy":return"cy-GB";case"ga":return"ga-GB";default:return"en-GB"}},Mr=function(){var e=Dr((function*(e,r){var t=Lr(e,r),n=yield fetch("".concat(t,"/config"),{cache:"no-store"});if(!n.ok)throw new Error("ID CTA Config Endpoint returned ".concat(n.status));return"GREEN"===(yield n.json())["id-availability"]}));return function(r,t){return e.apply(this,arguments)}}(),Fr=function(){var e=Dr((function*(e,r,t){var{languageContext:n,purpose:i,policy:a,renderMode:o}=t,s=((e,r)=>{var{purpose:t,lang:n,policy:i,renderMode:a}=r,o=new URL(e);return o.searchParams.set("ptrt",window.location.href),t&&o.searchParams.set("purpose",t),n&&o.searchParams.set("lang",n),i&&o.searchParams.set("policy",i),a&&o.searchParams.set("renderMode",a),o.toString()})("".concat(Lr(e,r),"/init"),{purpose:i,policy:a,lang:Ur(n),renderMode:o}),c=yield fetch(s,{credentials:"include",cache:"no-store"});if(!c.ok)throw new Error("ID CTA Init Endpoint returned ".concat(c.status));var l=yield c.json();return{html:l.html,css:l.css,policyCheck:l.policyCheck}}));return function(r,t,n){return e.apply(this,arguments)}}(),Br=t(99070);function Gr(e,r,t,n,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void t(e)}s.done?r(c):Promise.resolve(c).then(n,i)}function Hr(e){return function(){var r=this,t=arguments;return new Promise((function(n,i){var a=e.apply(r,t);function o(e){Gr(a,n,i,o,s,"next",e)}function s(e){Gr(a,n,i,o,s,"throw",e)}o(void 0)}))}}var zr=function(){var e=Hr((function*(e,r){try{return yield(0,Br.Z)({environment:e,isDotCom:r}),!0}catch(e){return!1}}));return function(r,t){return e.apply(this,arguments)}}(),Kr=function(){var e=Hr((function*(e,r,t){var n=r&&r.endsWith(".com");if(!(yield zr(e,n)))return null;var i=yield fetch(((e,r)=>{var t="https://www".concat("live"===e?"":".test",".bbc.co.uk/ugc/check");return"".concat(t,"/").concat(r)})(e,t),{method:"POST",credentials:"include",cache:"no-store"});return i.ok?(yield i.json()).code:null}));return function(r,t,n){return e.apply(this,arguments)}}();function Vr(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function qr(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Vr(Object(t),!0).forEach((function(r){Wr(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Vr(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function Wr(e,r,t){return(r=function(e){var r=function(e){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function $r(e,r,t,n,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void t(e)}s.done?r(c):Promise.resolve(c).then(n,i)}function Xr(e){return function(){var r=this,t=arguments;return new Promise((function(n,i){var a=e.apply(r,t);function o(e){$r(a,n,i,o,s,"next",e)}function s(e){$r(a,n,i,o,s,"throw",e)}o(void 0)}))}}const Zr=(e,r,t,a,o,s)=>{var{env:c,host:l}=(0,_r.i3)(),u=(0,i.Dn)(),{accountCheckStep:{accountPurpose:d}}=p();(0,n.useEffect)((()=>{var n=function(){var e=Xr((function*(){if(!(yield Mr(c,l)))throw new Error("ID CTA Flagpole is not green.")}));return function(){return e.apply(this,arguments)}}(),i=r=>e.includes(r),p=function(){var e=Xr((function*(){return Fr(c,l,{languageContext:u,renderMode:"authorised"})}));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Xr((function*(e){if(!e||i(e))return null;var r=yield p();return{type:Tr.O.AGE_CHECK_FAILURE,response:qr(qr({},r),{},{userAgeBracket:e})}}));return function(r){return e.apply(this,arguments)}}(),m=function(){var e=Xr((function*(){var e=yield Fr(c,l,{languageContext:u,purpose:d,policy:r});return e.html?{type:e.policyCheck?Tr.O.POLICY_CHECK_FAILURE:Tr.O.NOT_SIGNED_IN,response:e}:null}));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Xr((function*(){return t&&"ERR_MAXIMUM_SUBMISSIONS_REACHED"===(yield Kr(c,l,a))?{type:Tr.O.MAXIMUM_SUBMISSIONS_REACHED,response:yield p()}:null}));return function(){return e.apply(this,arguments)}}();!function(){var e=Xr((function*(){try{yield n();var e=(0,W.rF)();if(!r&&!t&&(0,Cr.A)()&&i(e))return o();var a=(yield f(e))||(yield m())||(yield v());return a?s(a.type,a.response):e?o():s(Tr.O.DEFAULT)}catch(e){return s(Tr.O.FLAGPOLE_ERROR)}}));return function(){return e.apply(this,arguments)}}()()}),[d,e,a,t,c,l,u,s,o,r])};var Yr=(0,a.default)("div",{target:"egxuo7u2",label:"AccountCheck"})({name:"k9j0rc",styles:"display:flex;flex-direction:column;min-height:80vh"}),Qr=(0,a.default)("div",{target:"egxuo7u1",label:"IdctaCheck"})("flex-grow:1;display:flex;justify-content:center;align-items:center;flex-direction:column;",K.tc," ",V.K1," color:",(e=>{var{theme:r}=e;return r.colourPalette.primary}),";"),Jr=(0,a.default)("div",{target:"egxuo7u0",label:"LoadingSpinnerStyling"})("color:",(e=>{var{theme:r}=e;return r.colourPalette.primary}),";height:",(0,E.A)(32),";width:",(0,E.A)(32),";");const et=e=>{var{title:r,allowedAgeGroups:t,policy:n,entryCap:i,campaignId:a,onSuccessHandler:o,onErrorHandler:s}=e,{accountCheckStep:l}=p();return Zr(t,n,i,a,o,s),(0,c.jsxs)(Yr,{children:[(0,c.jsx)(be,{displayBackLink:!0,title:r}),(0,c.jsx)(ur,{}),(0,c.jsxs)(Qr,{children:[(0,c.jsx)(Jr,{"data-testid":"playback-avkx:loading","aria-labelledby":"loading_spinner_label",children:(0,c.jsx)(Q.A,{type:"playback-avkx:loading"})}),(0,c.jsx)("p",{id:"loading_spinner_label","aria-hidden":!0,children:l.loading})]})]})};var rt=t(81969);const tt=e=>{var{title:r}=e,{accountError:{flagpoleError:{title:t,description:n}}}=p();return(0,c.jsx)(kr,{title:r,summaryTitle:t,summaryDescription:n,iconType:ie,iconBackgroundUrl:rt})};var nt,it=t(59310),at=(0,O.i7)(nt||(nt=function(e,r){return r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}}))}(["\n      from { transform: rotate(0deg); }\n      to { transform: rotate(360deg); }\n    "]))),ot=(0,a.default)("object",{target:"ecvfsnt0",label:"SpinningSvg"})("animation:",at," 1s linear infinite;width:100%;");const st=e=>{var{primaryColour:r}=e;return(0,c.jsx)(ot,{children:(0,c.jsx)("svg",{viewBox:"0 0 256 256",xmlns:"http://www.w3.org/2000/svg",children:(0,c.jsx)("path",{d:"M218.52,37.5,196.6,59.42A97,97,0,1,1,128,31l2,0,.63-31c-.87,0-1.74,0-2.61,0a128,128,0,1,0,90.52,37.5Z",fill:r})})})};var ct=(0,a.default)("div",{target:"ep806v54",label:"ProgressPercentagePosition"})("position:absolute;height:100%;width:100%;",K.tc," ",K.jG,";"),lt=(0,a.default)("div",{target:"ep806v53",label:"SpinnerStylingWrapper"})({name:"1vcob1d",styles:"display:flex;justify-content:center;align-items:center"}),ut=(0,a.default)("text",{target:"ep806v52",label:"PercentWrapper"})("font-size:",(0,E.A)(50),";"),dt=(0,a.default)("tspan",{target:"ep806v51",label:"PercentNumber"})({name:"f76676",styles:"text-anchor:middle;font-size:155%;dominant-baseline:central"}),pt=(0,a.default)("tspan",{target:"ep806v50",label:"PercentSymbol"})({name:"1gmif7y",styles:"font-size:70%;dominant-baseline:central"}),ft=e=>{var{colour:r,progressPercentage:t}=e;return(0,c.jsx)("svg",{viewBox:"0 0 256 256",fill:r,children:(0,c.jsxs)(ut,{children:[(0,c.jsx)(dt,{x:"144",y:"50%",children:t}),(0,c.jsx)(pt,{dx:"0",dy:"-12",children:"%"})]})})};const mt=e=>{var{progressPercentage:r}=e,{inProgressStep:{title:t,description:i}}=p(),a=r>99?99:Math.round(r),[o,s]=(0,n.useReducer)((()=>a),a);(0,n.useEffect)((()=>{var e=setInterval((()=>{s()}),3e3);return()=>{clearInterval(e)}}),[]);var l=(0,j.u)();return(0,c.jsxs)(q.A,{spacing:7,children:[(0,c.jsx)(be,{title:t,description:i}),(0,c.jsx)(Er,{iconBackgroundUrl:xr,children:(0,c.jsx)(Pr,{children:(0,c.jsxs)(lt,{children:[(0,c.jsx)(st,{primaryColour:l.colourPalette.states.interaction}),null!==r&&(0,c.jsxs)(ct,{children:[(0,c.jsx)(it.A,{"aria-live":"polite",children:"".concat(o,"%")}),(0,c.jsx)(ft,{colour:l.colourPalette.states.interaction,progressPercentage:a})]})]})})})]})},vt=e=>{var r,{submitAnotherClickHandler:t}=e,{confirmationStep:{sendAnotherLinkText:n}}=p(),{variant:i}=v();return i!==o.H.childrensUpload&&i!==o.H.upload||!t?null:(0,c.jsx)("div",{children:(0,c.jsx)(U,{tracking:{name:"reset",text:n,url:null===(r=window)||void 0===r||null===(r=r.location)||void 0===r?void 0:r.href},children:e=>{var{trackRef:r}=e;return(0,c.jsx)(Y.A,{url:"#",onClick:t,trackRef:r,children:n})}})})},gt=e=>{var{submissionId:r,signinRequired:t,configValues:{includeDataRetentionText:n,includeRightToRevokeText:i,includeRemovalGuidelineText:a},displayCta:s,referenceNumberHeadingLevel:l,submitAnotherClickHandler:u}=e,{variant:d,isEmbedded:f,backLinkUrl:m}=v(),{confirmationStep:{retentionExpiryDateString:g,privacyInfoText:y,referenceNumber:b,revokingMessage:h,removalGuidelineText:j,signedOutSubmissionInfoMessage:O,over13ChildrensEmailMessage:x,under13ChildrensEmailMessage:S,signedInSubmissionInfoMessage:E},backLinkText:P}=p(),R=s&&!f;return(0,c.jsxs)(q.A,{spacing:7,children:[d===o.H.childrensUpload&&(0,c.jsx)("div",{children:(0,W.rF)()===$.Vk.UNDER_13?S:x}),R&&(0,c.jsx)(U,{tracking:{name:"close",itemType:"cta",text:P,url:m},children:e=>{var{trackRef:r}=e;return(0,c.jsx)(w.A,{width:"full",href:m,trackRef:r,children:P})}}),(0,c.jsx)(q.A,{spacing:4,children:d!==o.H.childrensUpload&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(q.A,{spacing:4,children:[(0,c.jsx)("div",{children:t&&(0,Cr.A)()?E:O}),(0,c.jsxs)("div",{children:[(0,c.jsx)(Z.A,{level:l,fontScale:"indexHeadlineSmall",children:b}),r]})]}),i&&(0,c.jsx)(X.A,{html:"".concat(h.replace(/{{submissionId}}/g,r)," ").concat(a&&j?j:"")}),n&&(0,c.jsx)(X.A,{html:g}),(0,c.jsx)(X.A,{html:y})]})}),(0,c.jsx)(vt,{submitAnotherClickHandler:u})]})};var yt=t(96354),bt=t(46258);const ht=e=>{var{confirmationMessageRichText:r}=e,{confirmationStep:{whatHappensNextTitle:t}}=p(),{baseHeadingLevel:n}=v(),i=de(n+1);return r?(0,c.jsxs)(q.A,{spacing:4,children:[(0,c.jsx)(Z.A,{level:i,fontScale:"indexHeadlineMedium",children:t}),(0,c.jsx)(X.A,{html:r})]}):null};function jt(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Ot(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?jt(Object(t),!0).forEach((function(r){xt(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):jt(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function xt(e,r,t){return(r=function(e){var r=function(e){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var St=(0,a.default)("li",{target:"exni9hj0",label:"PromoListItemWrapper"})("margin-top:",S.SPACING_4,";");const Et=e=>{var{promos:r,configValues:t,submissionId:n,signinRequired:i,displayCta:a,submitAnotherClickHandler:o}=e,{confirmationStep:{submissionDetails:s},analytics:l}=p(),{baseHeadingLevel:u}=v(),{confirmationMessageRichText:d}=t;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{children:[(0,c.jsx)(Z.A,{level:de(u+1),fontScale:"indexHeadlineMedium",children:r.title}),(0,c.jsx)("ul",{children:r.promos.map(((e,r)=>(0,c.jsx)(St,{children:(0,c.jsx)(U,{tracking:{name:"promo",text:e.headline,url:e.url,position:r+1},children:r=>{var{trackRef:t}=r;return(0,c.jsx)(bt.A,Ot(Ot({},e),{},{trackRef:t}))}})},"UploaderPromo".concat(r))))})]}),(0,c.jsx)(ht,{confirmationMessageRichText:d}),(0,c.jsx)(yt.Ay,{drawers:[{headingTitleDetails:{expandedTitle:s,closedTitle:s,leftIcon:"labels:info"},tracking:I()({},l,{item:{name:"submission-details",text:s},group:{type:h.U.CONFIRMATION}}),contents:(0,c.jsx)(gt,{configValues:t,referenceNumberHeadingLevel:de(u+2),submissionId:n,signinRequired:i,displayCta:a})}],headingLevel:de(u+1)}),(0,c.jsx)(vt,{submitAnotherClickHandler:o})]})};function Pt(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Rt(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Pt(Object(t),!0).forEach((function(r){At(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Pt(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function At(e,r,t){return(r=function(e){var r=function(e){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var wt=(0,a.default)("div",{target:"e1q3iipc0",label:"ConfirmationStyling"})(K.tc," ",V.Vk," color:",(e=>{var{theme:r}=e;return r.colourPalette.primary}),";");const kt=e=>{var{confirmationStep:{title:r,description:t}}=p(),{baseHeadingLevel:n}=v(),{promos:i,configValues:{confirmationMessageRichText:a}}=e,o=i.promos.length>0;return(0,c.jsx)(wt,{children:(0,c.jsxs)(q.A,{spacing:7,children:[(0,c.jsx)(be,{displayBackLink:!0,title:r,description:t,icon:o&&ne}),o?(0,c.jsx)(Et,Rt({},e)):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(Rr,{iconType:ne,iconBackgroundUrl:xr}),(0,c.jsx)(ht,{confirmationMessageRichText:a}),(0,c.jsx)(gt,Rt(Rt({},e),{},{displayCta:!0,referenceNumberHeadingLevel:de(n+1)}))]})]})})};var It=(0,a.default)("div",{target:"ekrfe681",label:"MessageTitle"})(K.NP," ",V.j7," color:",(e=>{var{theme:r}=e;return r.colourPalette.primary}),";"),Ct=(0,a.default)("div",{target:"ekrfe680",label:"MessageBody"})(K.tc," ",V.Vk," color:",(e=>{var{theme:r}=e;return r.colourPalette.primary}),";"),_t=()=>{var{generalErrorStep:{title:e,description:r}}=p(),t="javascriptDisabled";return(0,c.jsxs)(q.A,{spacing:4,children:[(0,c.jsx)(It,{children:e[t]}),(0,c.jsx)(Ct,{children:r[t]})]})};const Tt=n.memo(_t);function Nt(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function Dt(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Nt(Object(t),!0).forEach((function(r){Lt(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Nt(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function Lt(e,r,t){return(r=function(e){var r=function(e){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Ut={TOKEN_REFRESH_ERROR:"ERR_TOKEN_REFRESH_FAIL",SIGNED_OUT:"ERR_SIGNED_OUT"},Mt={EMPTY_FILE:"ERR_EMPTY_FILE",UNSUPPORTED_PROFILES:"ERR_PROFILES_NOT_SUPPORTED",CAMPAIGN_CLOSED:"ERR_CAMPAIGN_CLOSED",MAX_SUBMISSIONS:"ERR_MAXIMUM_SUBMISSIONS_REACHED",CAMPAIGN_NOT_FOUND:"ERR_CAMPAIGN_NOT_FOUND",NOT_LOGGED_IN:"ERR_NOT_LOGGED_IN",ACCOUNT_POLICY_DENIED:"ERR_ACCOUNT_POLICY_DENIED",UNKNOWN_SUBMISSION_ERROR:"UNKNOWN_SUBMISSION_ERROR"},Ft={CLIENTSIDE_TIMEOUT:"CLIENTSIDE_TIMEOUT_99",REQUEST_ABORTED:"ERR_REQUEST_ABORTED"},Bt=Dt(Dt(Dt({},Ut),Mt),Ft),Gt=[Ut.SIGNED_OUT,Mt.UNSUPPORTED_PROFILES,Mt.MAX_SUBMISSIONS,Mt.CAMPAIGN_NOT_FOUND,Mt.ACCOUNT_POLICY_DENIED,Mt.NOT_LOGGED_IN,Mt.CAMPAIGN_CLOSED],Ht=e=>Gt.includes(e),zt=e=>!Object.values(Ut).includes(e)&&!Object.values(Ft).includes(e);class Kt extends Error{constructor(e){var{httpStatusCode:r,httpResponse:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),this.name="SubmissionError",this.errorAnalytics={code:zt(e)?null==r?void 0:r.toString():void 0,response:zt(e)?t:void 0,name:e!==Mt.UNKNOWN_SUBMISSION_ERROR?e:void 0,type:Ht(e)?"unrecoverable":"recoverable"}}}function Vt(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function qt(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Vt(Object(t),!0).forEach((function(r){Wt(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Vt(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function Wt(e,r,t){return(r=function(e){var r=function(e){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var $t=qt(qt({},{[Bt.MAX_SUBMISSIONS]:"maxSubmissions",[Bt.EMPTY_FILE]:"emptyFile",[Bt.UNSUPPORTED_PROFILES]:"unsupportedProfiles",[Bt.CAMPAIGN_CLOSED]:"campaignClosed"}),{},{ERR_JAVASCRIPT_DISABLED:"javascriptDisabled"}),Xt=e=>"ERR_JAVASCRIPT_DISABLED"===e,Zt=(e,r,t,n)=>{var i;return Xt(e)?r:null!==(i=t[n])&&void 0!==i?i:t.default},Yt=(e,r,t)=>{if(!Xt(e))return t?r[t]:Ht(e)?r.unrecoverable:r.default},Qt=(0,a.default)("div",{target:"e12vl8ur0",label:"ErrorReference"})(K.tc," ",V.K1," color:",(e=>{var{theme:r}=e;return r.colourPalette.primary}),";");const Jt=e=>{var{submissionAttemptId:r,onRetry:t,errorMessage:n,campaignTitle:i}=e,{backLinkText:a,generalErrorStep:{retryButtonText:o,title:s,description:l,submissionAttemptIdLabel:u}}=p(),d=$t[n],{isEmbedded:f,backLinkUrl:m}=v();return(0,c.jsxs)(q.A,{spacing:7,children:[(0,c.jsx)(be,{displayBackLink:!0,title:Zt(n,i,s,d),description:Yt(n,l,d)}),(0,c.jsx)(Rr,{iconType:ie,iconBackgroundUrl:rt}),Xt(n)&&(0,c.jsx)(Tt,{}),r&&(0,c.jsx)(Qt,{children:u.replace(/{{submissionAttemptId}}/g,r)}),Ht(n)||Xt(n)?!f&&(0,c.jsx)(U,{tracking:{name:"close",itemType:"cta",text:a,url:m},children:e=>{var{trackRef:r}=e;return(0,c.jsx)(w.A,{href:m,width:"full",trackRef:r,children:a})}}):(0,c.jsx)(U,{tracking:{name:"try-again",text:o},children:e=>{var{trackRef:r}=e;return(0,c.jsx)(A.A,{width:"full",onClick:t,trackRef:r,children:o})}})]})},en=e=>{var{title:r}=e,{closedStep:{title:t,descriptionRichText:n}}=p();return(0,c.jsx)(kr,{title:r,summaryTitle:t,summaryDescription:(0,c.jsx)(X.A,{html:n}),iconType:te,iconBackgroundUrl:xr})},rn=e=>{var{title:r}=e,{suspendedStep:{title:t,description:n}}=p();return(0,c.jsx)(kr,{title:r,summaryTitle:t,summaryDescription:n,iconType:te,iconBackgroundUrl:xr})};var tn=t(94172),nn=(0,a.default)("div",{target:"e9p39i10",label:"IdctaResponseWrapper"})(K.tc," ",V.K1," color:",(e=>{var{theme:r}=e;return r.colourPalette.primary}),";");const an=e=>{var{idctaResponse:r}=e;return(0,c.jsxs)(nn,{children:[(0,c.jsx)(tn.mg,{children:r.css.map(((e,r)=>(0,c.jsx)("link",{rel:"stylesheet",type:"text/css",href:e},r)))}),(0,c.jsx)(X.A,{html:r.html})]})};var on=e=>{var{children:r}=e,{sendSigninExperimentTrackingEvents:t}=v();return t?(0,c.jsx)(C.C,{experimentation:{click:{name:"livexp_uploader_signin_or_register_click"}},children:e=>{var{trackRef:t}=e;return(0,c.jsx)("span",{ref:t,children:r})}}):r};const sn=e=>{var{title:r,description:t,errorResponse:n}=e;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(be,{displayBackLink:!0,title:r,description:t}),(0,c.jsx)(ur,{}),(0,c.jsx)(on,{children:(0,c.jsx)(an,{idctaResponse:n})})]})},cn=e=>{var{title:r,errorResponse:t}=e;return(0,c.jsx)(kr,{title:r,iconType:ie,iconBackgroundUrl:rt,displayCta:!1,children:(0,c.jsx)(an,{idctaResponse:t})})},ln=e=>{var{title:r,allowedAgeGroups:t,errorResponse:n}=e,{accountError:{minAgeError:i,maxAgeError:a,betweenAgesError:o}}=p(),{title:s,description:l}=(()=>{var{minAge:e,maxAge:r}=(0,$.F8)(t);return e&&r?o:e?i:r?a:null})()||{};return(0,c.jsx)(kr,{title:r,summaryTitle:s,summaryDescription:l,iconType:ie,iconBackgroundUrl:rt,displayCta:!1,children:(0,c.jsx)(an,{idctaResponse:n})})};var un=(0,a.default)("div",{target:"e9agaux0",label:"PrivacyNotice"})(K.tc," ",V.K1," color:",(e=>{var{theme:r}=e;return r.colourPalette.primary}),";");const dn=e=>{var{returnButtonClickHandler:r,privacyNoticeHtml:t}=e,{privacyNoticeStep:{title:n,backButtonText:i}}=p();return(0,c.jsx)(un,{children:(0,c.jsxs)(q.A,{children:[(0,c.jsx)(be,{title:n}),(0,c.jsx)(X.A,{html:t}),(0,c.jsx)(U,{tracking:{name:"close-privacy",text:i},children:e=>{var{trackRef:t}=e;return(0,c.jsx)(A.A,{onClick:r,width:"full",trackRef:t,children:i})}})]})})};var pn=t(45505),fn=t(44771),mn=t(1672);function vn(e,r,t,n,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void t(e)}s.done?r(c):Promise.resolve(c).then(n,i)}var gn=function(){var e,r=(e=function*(e,r){try{yield(0,Br.Z)({environment:e,isDotCom:r})}catch(e){var t=e.message;throw e instanceof fn.a?t=Ut.SIGNED_OUT:e instanceof mn.F&&(t=Ut.TOKEN_REFRESH_ERROR),new Kt(t)}},function(){var r=this,t=arguments;return new Promise((function(n,i){var a=e.apply(r,t);function o(e){vn(a,n,i,o,s,"next",e)}function s(e){vn(a,n,i,o,s,"throw",e)}o(void 0)}))});return function(e,t){return r.apply(this,arguments)}}();function yn(e,r,t,n,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void t(e)}s.done?r(c):Promise.resolve(c).then(n,i)}var bn=function(){var e,r=(e=function*(e){var r,t,{formState:n,updateSubmissionProgress:i,campaignId:a,isSigninRequired:o,environment:s,isDotCom:c,submissionAttemptId:l,formRuleOptions:u}=e,d=(r=n,t=u,Object.entries(r).reduce(((e,n)=>{var[i,a]=n;return xe(t[i],r)&&(Array.isArray(a)?a:[a]).forEach((r=>{"object"!=typeof r||r instanceof File?e.append(i,r):((e,r,t)=>{var{value:n,checked:i}=r;void 0!==n&&!0===i&&t.append(e,n)})(i,r,e)})),e}),new FormData)),p=((e,r,t)=>{var n="https://www".concat("live"===r?"":".test",".bbc.co.uk/ugc/send");return"".concat(n,"/").concat(e,"?said=").concat(t)})(a,s,l);return o&&(yield gn(s,c)),function(e,r,t){var n,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=new XMLHttpRequest;return a.withCredentials=i,t&&a.upload.addEventListener("progress",(e=>{var r=e.loaded/e.total*100;t(r),r>=99&&(a.readyState===XMLHttpRequest.DONE||n||(n=setTimeout((()=>{a.abort(Ft.CLIENTSIDE_TIMEOUT)}),9e4)))})),a.open("post",e),new Promise(((e,t)=>{var i,o=a.abort;a.abort=e=>{i=e||Ft.REQUEST_ABORTED,o.apply(a)},a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){var r;clearTimeout(n);try{r=JSON.parse(a.responseText)}catch(e){r=a.responseText}if(a.status===pn.OK)e({statusCode:pn.OK,body:r});else{var o=(s=r,i||(null==s?void 0:s.code)||Mt.UNKNOWN_SUBMISSION_ERROR);t(new Kt(o,{httpStatusCode:a.status,httpResponse:a.responseText}))}}var s},a.send(r)}))}(p,d,i,o)},function(){var r=this,t=arguments;return new Promise((function(n,i){var a=e.apply(r,t);function o(e){yn(a,n,i,o,s,"next",e)}function s(e){yn(a,n,i,o,s,"throw",e)}o(void 0)}))});return function(e){return r.apply(this,arguments)}}();function hn(e,r,t,n,i,a,o){try{var s=e[a](o),c=s.value}catch(e){return void t(e)}s.done?r(c):Promise.resolve(c).then(n,i)}var jn=function(){var e,r=(e=function*(e,r,t){r(h.U.IN_PROGRESS);var n,i=(new Date).getTime();try{var a=yield bn(e),{submissionId:o}=a.body;t(o),n={success:!0,submissionId:o}}catch(e){n={success:!1,error:e}}var s=(new Date).getTime()-i;s<2e3&&(yield new Promise((e=>setTimeout(e,2e3-s)))),n.success?r(h.U.CONFIRMATION,{submissionId:n.submissionId}):r(h.U.SUBMISSION_ERROR,{errorAnalytics:n.error.errorAnalytics},{errorMessage:n.error.message})},function(){var r=this,t=arguments;return new Promise((function(n,i){var a=e.apply(r,t);function o(e){hn(a,n,i,o,s,"next",e)}function s(e){hn(a,n,i,o,s,"throw",e)}o(void 0)}))});return function(e,t,n){return r.apply(this,arguments)}}();var On=e=>{return r=Oe(e),t={},r.forEach((e=>{var{fieldType:r}=e;r===je.Lz.CHECKBOX_LIST?t[e.id]=e.options.map((e=>{var{label:r,value:t,description:n}=e;return{label:r,checked:!1,value:t,description:n}})):r===je.Lz.FILE_FIELD?t[e.id]=[]:t[e.id]=""})),t;var r,t},xn=(e,r)=>"1"===e?r.one:r.multiple;const Sn=e=>{var{title:r,entryCap:t,errorResponse:n}=e,{accountError:{submissionCap:{title:i,description:a}}}=p();return(0,c.jsx)(kr,{title:r,summaryTitle:i,summaryDescription:xn(t,a),iconType:ie,iconBackgroundUrl:rt,displayCta:!1,children:(0,c.jsx)(an,{idctaResponse:n})})};var En=(0,a.default)("div",{target:"ef5egq10",label:"StyledHideWhenJavaScriptDisabled"})({name:"1xyc2b2",styles:"html.no-js &{display:none;}"});const Pn=e=>{var{config:r,step:t,setStep:i,stepState:a,submissionAttemptId:o,refreshSubmissionAttemptId:s,formStateReducer:l,formRuleOptions:u,topOfStepPanelRef:d}=e,{formSubmissionHandler:p,submissionProgress:f,submissionId:m}=((e,r,t,i,a,o)=>{var[s,c]=(0,n.useState)(null),[l,u]=(0,n.useState)(null),{host:d,env:p}=(0,_r.i3)(),f={formState:t,campaignId:e,isSigninRequired:r,environment:p,isDotCom:d&&d.endsWith(".com"),submissionAttemptId:o,updateSubmissionProgress:c,formRuleOptions:i};return{formSubmissionHandler:()=>jn(f,a,u),submissionProgress:s,submissionId:l}})(r.campaignId,r.settings.signinRequired,l.formState,u,i,o),[g,y]=((e,r)=>{var[t,i]=(0,n.useState)(0),[a,o]=(0,n.useState)(!1),s=(0,n.useRef)(),{isFirstRenderRef:c,isEmbedded:l}=v(),u=e=>{l?window.scrollBy({top:e,behavior:"smooth"}):window.scrollTo(0,e)};return(0,n.useEffect)((()=>{a&&s.current&&(s.current.focus(),o(!1))}),[a,e]),(0,n.useEffect)((()=>{if(!c.current)if(e!==h.U.FORM||l){var n=r.current?r.current.getBoundingClientRect().top-20:0;u(n)}else u(t),i(0);e!==h.U.ACCOUNT_CHECK&&(c.current=!1)}),[e]),[s,()=>{i(document.body.scrollTop||document.documentElement.scrollTop),o(!0)}]})(t,d),{accountCheckSuccessHandler:b,accountCheckErrorHandler:j,accountErrorResponse:O}=(e=>{var[r,t]=(0,n.useState)(null);return{accountCheckSuccessHandler:(0,n.useCallback)((()=>{e(h.U.FORM)}),[e]),accountCheckErrorHandler:(0,n.useCallback)(((r,n)=>{t(n),e((0,Tr.Y)(r),{errorAnalytics:(0,_.m)(r,n)})}),[e]),accountErrorResponse:r}})(i),x=(0,n.useMemo)((()=>({brandLogoUrl:r.settings.brandLogo,brandName:r.settings.brand})),[r]),S=(0,n.useCallback)((()=>{switch(t){case h.U.PRE_OPEN:return(0,c.jsx)(Ir,{title:r.title});case h.U.CLOSED:return(0,c.jsx)(en,{title:r.title});case h.U.SUSPENDED:return(0,c.jsx)(rn,{title:r.title});case h.U.ACCOUNT_CHECK:return(0,c.jsx)(et,{title:r.title,policy:r.settings.accountPolicy,entryCap:r.settings.entryCap,allowedAgeGroups:r.settings.allowedAgeGroups,campaignId:r.campaignId,onErrorHandler:j,onSuccessHandler:b});case h.U.IN_PROGRESS:return(0,c.jsx)(mt,{progressPercentage:f});case h.U.CONFIRMATION:return(0,c.jsx)(kt,{submissionId:m,signinRequired:r.settings.signinRequired,configValues:r.confirmationStep,promos:r.promo,submitAnotherClickHandler:()=>{var e=s();l.formStateDispatch({type:ir,payload:On(r)}),i(h.U.FORM,{submissionAttemptIdOverride:e})}});case h.U.PRIVACY_NOTICE:return(0,c.jsx)(dn,{returnButtonClickHandler:()=>i(h.U.FORM),privacyNoticeHtml:r.privacyNotice.additional});case h.U.SUBMISSION_ERROR:return(0,c.jsx)(Jt,{onRetry:()=>{var e=s();i(h.U.FORM,{submissionAttemptIdOverride:e})},submissionAttemptId:o,errorMessage:null==a?void 0:a.errorMessage});case h.U.ACCOUNT_FLAGPOLE_ERROR:return(0,c.jsx)(tt,{title:r.title});case h.U.ACCOUNT_NOT_SIGNED_IN_ERROR:return(0,c.jsx)(sn,{title:r.title,description:r.description,errorResponse:O});case h.U.ACCOUNT_ERROR:return(0,c.jsx)(cn,{title:r.title,errorResponse:O});case h.U.ACCOUNT_ENTRY_CAP_REACHED_ERROR:return(0,c.jsx)(Sn,{title:r.title,entryCap:r.settings.entryCap,errorResponse:O});case h.U.ACCOUNT_AGE_ERROR:return(0,c.jsx)(ln,{title:r.title,errorResponse:O,allowedAgeGroups:r.settings.allowedAgeGroups});case h.U.FORM:default:return(0,c.jsx)(Or,{config:r,formStateReducer:l,onSubmit:p,formRuleOptions:u,privacyNoticeClickHandler:()=>{y(),i(h.U.PRIVACY_NOTICE)},refToFocus:g})}}),[j,b,O,p,g,y,m,f,r,u,l,s,t,i,a,o]);return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("noscript",{children:(0,c.jsx)(Jt,{backLinkUrl:r.submissionUrl,brandLogo:x,errorMessage:"ERR_JAVASCRIPT_DISABLED",campaignTitle:r.title})}),(0,c.jsx)(En,{children:S()})]})};function Rn(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function An(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?Rn(Object(t),!0).forEach((function(r){wn(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Rn(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function wn(e,r,t){return(r=function(e){var r=function(e){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function kn(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function In(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?kn(Object(t),!0).forEach((function(r){Cn(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):kn(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function Cn(e,r,t){return(r=function(e){var r=function(e){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var t=r.call(e,"string");if("object"!=typeof t)return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof r?r:r+""}(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var _n=(e,r,t,n)=>{switch(e){case"mandatory":return((e,r)=>{switch(e){case je.Lz.SINGLE_LINE_INPUT:case je.Lz.TEXT_AREA:case je.Lz.DATE:return r.textField;case je.Lz.CONDITIONAL_LOGIC_FIELD:case je.Lz.RADIO_GROUP:return r.radioGroup;case je.Lz.CHECKBOX_LIST:return r.checkboxList;case je.Lz.CHECKBOX:return r.checkbox;case je.Lz.DROPDOWN:return r.dropdown;default:return""}})(r,t.mandatory);case"inputType":return((e,r)=>{switch(e){case Ae.sF.EMAIL:return r.email;case Ae.sF.NUMBER:return r.number;case je.Lz.DATE:return r.date;default:return""}})(n,t.inputType);case"wordLimitMax":return((e,r)=>{var{ruleValue:t,exact:n}=e;return t>1?(n?r.exact.many:r.many).replace(/{{pluralsCount}}/g,t):n?r.exact.one:r.one})(n,t.wordLimit.maximum);case"wordLimitMin":return((e,r)=>{var{ruleValue:t,exact:n}=e;return(n?r.exact.many:r.many).replace(/{{pluralsCount}}/g,t)})(n,t.wordLimit.minimum);default:return""}},Tn=t(30600);var Nn=(0,a.default)("div",{target:"e4ncwph0",label:"EmbeddableFormWrapper"})("max-width:",b.T,";");const Dn=e=>{var{config:r}=e,{campaignStatus:t,settings:i,sections:a}=r,[o,s]=(()=>{var[e,r]=(0,n.useState)((0,Tn.A)());return[e,()=>{var e=(0,Tn.A)();return r(e),e}]})(),l=(e=>{var[r,t]=(0,n.useReducer)(((e,r)=>{switch(r.type){case nr:return rr(rr({},e),{},{[r.payload.fieldId]:r.payload.fieldValue});case ir:return r.payload;default:return e}}),e);return{formStateDispatch:t,formState:r}})(On(r)),{errorMessages:u}=p(),d=(0,n.useMemo)((()=>((e,r)=>{var t={};return Oe(e).forEach((e=>{t[e.id]=((e,r)=>{var t={},{validation:n,fieldType:i}=e;return n&&Object.entries(n).forEach((e=>{var[n,a]=e;!0===a?t[n]={errorMessage:_n(n,i,r,a)}:"object"==typeof a?t[n]=In(In({},a),{},{errorMessage:_n(n,i,r,a)}):a&&(t[n]={ruleValue:a,errorMessage:_n(n,i,r,a)})})),t})(e,r)})),t})(r,u)),[r,u]),m=((e,r)=>{switch(e){case h.S.PRE_OPEN:return h.U.PRE_OPEN;case h.S.CLOSED:return h.U.CLOSED;case h.S.SUSPENDED:return h.U.SUSPENDED;case h.S.OPEN:default:return r?h.U.ACCOUNT_CHECK:h.U.FORM}})(t,i.signinRequired),[g,y,b]=((e,r)=>{var{submissionAttemptId:t,getFilesMetadata:i}=r,a=Pe(),o=function(e){var{submissionId:r,errorAnalytics:n,submissionAttemptIdOverride:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((e=>e!==h.U.ACCOUNT_CHECK)(e)){var s=(e=>{switch(e){case h.U.IN_PROGRESS:case h.U.CONFIRMATION:case h.U.SUBMISSION_ERROR:return!0;default:return!1}})(e)?i():null,c={item:{name:e},group:_.F[e],event:{category:"uploader",sequence:{id:r}},error:n,uploader:An({attempt_id:o||t},s&&{file_count:null==s?void 0:s.numberOfFiles,data_volume:null==s?void 0:s.totalSize})};a(c,"load")}},[s,c]=(0,n.useState)(e),[l,u]=(0,n.useState)();return(0,n.useEffect)((()=>{var r=setInterval((()=>{var t;null!==(t=window)&&void 0!==t&&null!==(t=t.Reverb)&&void 0!==t&&t.userActionEvent&&(o(e),clearInterval(r))}),500);return()=>clearInterval(r)}),[]),[s,(e,r,t)=>{o(e,r),c(e),u(t)},l]})(m,{submissionAttemptId:o,getFilesMetadata:()=>((e,r,t)=>{var n=Oe({sections:t}),i=Se(e,r);return Ee(n,i)})(l.formState,d,a)}),{isEmbedded:j}=v(),O=(0,n.useRef)();return j?(0,c.jsx)(f.Provider,{value:g,children:(0,c.jsx)(Nn,{ref:O,children:(0,c.jsx)(Pn,{config:r,step:g,setStep:y,stepState:b,formRuleOptions:d,formStateReducer:l,submissionAttemptId:o,refreshSubmissionAttemptId:s,topOfStepPanelRef:O})})}):(0,c.jsx)(f.Provider,{value:g,children:(0,c.jsx)(z,{pageBackgroundUrl:i.pageBackgroundTemplateUrl,step:g,setStep:y,children:(0,c.jsx)(Pn,{config:r,step:g,setStep:y,stepState:b,submissionAttemptId:o,refreshSubmissionAttemptId:s,topOfStepPanelRef:O,formRuleOptions:d,formStateReducer:l})})})},Ln=e=>{var{context:r,config:t,baseHeadingLevel:n=1,setPageTitle:i=!1}=e,{isEmbedded:a}=r;return(0,c.jsxs)(g,{context:r,baseHeadingLevel:n,children:[!a&&(0,c.jsx)(y,{setPageTitle:i}),(0,c.jsx)(Dn,{config:t})]})}}}]);