"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[6107],{2363:(e,t,i)=>{i.d(t,{A:()=>me});var r=i(63696),n=i(59106),a=i(59310),s=i(15173),o=i(43277),l=i(54036),d=i(49565),u=i(10737),c=i(96943),m=i(41738),p=i(27336),f=i(95584),b=i(89958),v=i(468),g=i(35289),h=i(62540);function y(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function P(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?y(Object(i),!0).forEach((function(t){O(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):y(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function O(e,t,i){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var j,A,w,x,S=(0,b.default)("div",{target:"eaks8wi0",label:"ButtonWrapper"})("@media (max-width: ",(0,v.A)(g._G-1),"){width:100%;}",(e=>e.hide?"visibility: hidden;":""),";"),I=e=>{var{onClickFunction:t,iconType:i,media:r,trackingData:n,isMediaPlayerLoaded:a,translations:s,isPersistent:o}=e,l=!a&&!o;return(0,h.jsx)(f.C,{trackKeyboardSelects:!0,tracking:P(P({},n),{},{group:P({},n.group)}),children:e=>{var{trackRef:n}=e;return(0,h.jsx)(S,{"data-testid":"playmedia-button",hide:l,children:(0,h.jsx)(p.A,{"data-testid":"play-button",onClick:t,emphasis:"high",width:"full",cornerFit:!0,status:"live",iconType:i,trackRef:n,disabled:l,children:"programme"===r.items[0].kind?s.WATCH_LIVE:s.LISTEN_LIVE})})}})},_=i(18471),T=i(55522),k=i(74437),E=(e,t,i)=>t?"video"===i?"".concat(e.WATCH_LIVE_HERE_FROM," ").concat(t):"".concat(e.LISTEN_LIVE_HERE_FROM," ").concat(t):null,C=e=>{var t,i,{media:r,translations:n}=e,a=null==r||null===(t=r.webcastData)||void 0===t?void 0:t.scheduledStartTime;if(a&&0!==a){var s=new Date(1e3*r.webcastData.scheduledStartTime);i=(0,_.Yq)(s,"HH:mm")}var o="programme"===r.items[0].kind?"video":"audio",l=(0,b.default)("div",{target:"e13r0m6h1",label:"ComingUpInfo"})("color:",(e=>{var{theme:t}=e;return t.colourPalette.states.onLive}),";display:flex;flex-direction:row;align-items:center;font-size:",(0,v.A)(16),";"),d=(0,b.default)("div",{target:"e13r0m6h0",label:"IconWrapper"})("height:",(0,v.A)(16),";margin-right:",k.SPACING_2,";");return(0,h.jsxs)(l,{children:[(0,h.jsx)(d,{children:(0,h.jsx)(T.A,{type:"time-and-date:clock"})}),(0,h.jsx)("span",{children:E(n,i,o)})]})},N=i(91785),M=i(20641),D=i(11545);function H(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var L=e=>{var{isPersistent:t,isOppm:i}=e;return i&&!t?(0,N.AH)(j||(j=H(["\n      justify-content: center;\n    "]))):t?(0,N.AH)(A||(A=H(["\n      align-items: flex-start;\n      gap: 0.25rem;\n      flex-direction: row;\n      @media (min-width: ",") {\n        flex-direction: column;\n      }\n    "])),g.cK):null},G=(0,b.default)("div",{target:"e1n5ukhq2",label:"MediaAttribution"})("display:flex;flex-wrap:wrap;gap:",k.SPACING_2,";padding-bottom:",k.SPACING_2,";",L,";"),z=(0,b.default)("p",{target:"e1n5ukhq1",label:"MediaTitleWrapper"})(M.NP," ",D.K1," color:",(e=>{var{theme:t}=e;return t.colourPalette.states.onLive}),";align-self:center;word-wrap:break-word;",(e=>{var{isPersistent:t}=e;return t&&(0,N.AH)(w||(w=H(["\n      font-size: ",";\n      align-self: flex-start;\n    "])),(0,v.A)(13))}),";"),F=(0,b.default)("p",{target:"e1n5ukhq0",label:"ChannelAttributionWrapper"})(M.tc," ",D.K1," color:",(e=>{var{theme:t}=e;return t.colourPalette.states.onLive}),";align-self:center;word-wrap:break-word;",(e=>{var{isPersistent:t}=e;return t&&(0,N.AH)(x||(x=H(["\n      font-size: ",";\n      align-self: flex-start;\n    "])),(0,v.A)(13))}),";"),R=e=>{var{media:t,isOppm:i,isPersistent:r}=e,n=t.items[0].masterbrandName&&"BBC Live Streams"!==t.items[0].masterbrandName&&"."!==t.items[0].overtypedTitle,a="."!==t.items[0].overtypedTitle;return(0,h.jsxs)(G,{"data-testid":"media-attribution",isOppm:i,isPersistent:r,children:[t.items[0].title&&a&&(0,h.jsx)(z,{isPersistent:r,children:t.items[0].title}),n&&t.items[0].masterbrandName&&(0,h.jsx)(F,{isPersistent:r,children:t.items[0].masterbrandName})]})},V=i(63548);function U(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function W(e,t,i){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var K,B,q,J=i(8293);function X(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Y,Q,Z,$,ee,te,ie=(0,b.default)("div",{target:"e5tbli32",label:"GuidanceWrapper"})("display:flex;align-items:center;margin-top:",k.SPACING_3,";",(e=>{var{isOppm:t}=e;return t&&(0,N.AH)(K||(K=X(["\n      justify-content: center;\n    "])))})," ",(e=>{var{isPersistent:t}=e;return t&&(0,N.AH)(B||(B=X(["\n      margin-top: 0.5rem;\n    "])))}),";"),re=(0,b.default)("img",{target:"e5tbli31",label:"GuidanceIconWrapper"})("color:",(e=>{var{theme:t}=e;return t.colourPalette.states.error}),";height:",(0,v.A)(16),";width:",(0,v.A)(16),";margin-top:",(0,v.A)(-1),";"),ne=(0,b.default)("div",{target:"e5tbli30",label:"GuidanceText"})("color:",(e=>{var{theme:t}=e;return t.colourPalette.states.onLive}),";margin-left:",k.SPACING_2,";font-size:",(0,v.A)(16),";",(e=>{var{isPersistent:t}=e;return t&&(0,N.AH)(q||(q=X(["\n      font-size: ",";\n    "])),(0,v.A)(13))}),";"),ae=e=>{var t,{media:i,isOppm:r,isPersistent:n}=e,a=null===(t=i.items[0])||void 0===t?void 0:t.guidance;return a&&(0,h.jsxs)(ie,{isOppm:r,isPersistent:n,children:[(0,h.jsx)(re,{src:J,alt:"Guidance",draggable:"false",role:"presentation"}),(0,h.jsx)(ne,{isPersistent:n,children:a})]})},se=i(16061);function oe(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var le=(0,b.default)("div",{target:"e4omg054",label:"Container"})(M.tc," background:",(e=>{var{isOppm:t,theme:i,isPersistent:r}=e;return t&&!r&&i.colourPalette.background}),";display:",(e=>{var{isPlayerShowing:t}=e;return t?"none":"flex"}),";flex-direction:column;position:relative;"),de=(0,b.default)("div",{target:"e4omg053",label:"MediaContainer"})("color:",(e=>{var{theme:t}=e;return t.colourPalette.background}),";",(e=>{var{isOppm:t}=e;return t?(0,N.AH)(Y||(Y=oe(["\n        display: flex;\n        justify-content: center;\n        z-index: ",";\n        width: 100%;\n      "])),se.o.MEDIA_CONTAINER):(0,N.AH)(Q||(Q=oe(["\n      display: flex;\n      justify-content: left;\n      z-index: ",";\n      width: 100%;\n    "])),se.o.MEDIA_CONTAINER)}),"@media (min-width: ",g.cK,"){",(e=>{var{isPersistent:t}=e;return t&&(0,N.AH)(Z||(Z=oe(["\n        width: max-content;\n      "])))}),";}"),ue=(0,b.default)("div",{target:"e4omg052",label:"MediaHeaderWrapper"})("min-height:",(0,v.A)(1),";html.no-js &{display:none;}@media (min-width: ",g.js,"){scroll-margin-top:",(0,v.A)(32),";}"),ce=(0,b.default)("div",{target:"e4omg051",label:"MediaChildrenContainer"})("z-index:1;padding-bottom:0;@media (min-width: ",g.cK,"){padding-bottom:",k.SPACING_4,";",(e=>{var{isPersistent:t}=e;return t&&(0,N.AH)($||($=oe(["\n        padding-bottom: 0;\n        padding-left: ",";\n        max-width: 19rem;\n      "])),k.SPACING_4)}),";}@media (min-width: ",g.js,"){padding-bottom:",k.SPACING_6," ",(e=>{var{isPersistent:t}=e;return t&&(0,N.AH)(ee||(ee=oe(["\n          padding-bottom: 0;\n          max-width: 19rem;\n        "])))}),";}@media (min-width: ",g.Xb,"){padding-bottom:",k.SPACING_6," ",(e=>{var{isPersistent:t}=e;return t&&(0,N.AH)(te||(te=oe(["\n          padding-bottom: 0;\n          max-width: 19.5rem;\n        "])))}),";}");const me=e=>{var{data:{liveMediaItems:t,showMSI:i,hasHeaderMedia:p}={},analyticsPage:f,topicUrn:b,curationUrn:v,setSignInPrompt:g,mediaAuthTokensToggle:y,mediaValues:{isPlayerShowing:P=!1,mediaToPlay:O=""},setMediaValues:j,isOppm:A=!1,service:w,setMediaFullScreenStyles:x,isPersistent:S=!1}=e,[_,T]=(0,r.useState)(!1),[k,E]=(0,r.useState)(!1),[N,M]=(0,r.useState)(!1),[D,H]=(0,r.useState)(t),[L,G]=(0,r.useState)(""),[z,F]=(0,r.useState)(0),[K,B]=(0,r.useState)(!1),q=(0,c.Ry)(),J=q["live-statto-smp"],X=q["live-app-bridge"],Y=(0,m.Dn)(),Q=s.W[Y]||s.W.default,Z=(0,u.Oo)(),$=!Z&&J,ee=X&&Z&&"sport"===w,te="hiddenMediaArea";if((0,r.useEffect)((()=>{if(P&&(null!=D&&D.length&&(T(!0),setTimeout((()=>{T(!1)}),5e3)),(JSON.stringify(t)===JSON.stringify(D)||L!==O)&&""!==O)){var e=null==t?void 0:t.findIndex((e=>e.urn===O));F(-1===e?0:e),H(t),G(O)}if(!P){var i=(e=>null==e?void 0:e.findIndex((e=>!0===e.leadMedia)))(D),r=null!=D&&D.length?D[i].urn:"";G(r),F(i),t!==D&&H(t)}}),[P,D,t,L,O]),(0,r.useEffect)((()=>{K&&(document.getElementById("hiddenMediaArea").focus(),B(!1))}),[K]),null==D||!D.length)return null;var ie=D.find((e=>e.urn===L));ie||P||(ie=t.find((e=>!0===e.leadMedia)));var re=(0,o.yK)({item:ie,analyticsPage:f,mediaAuthTokensToggle:y});if(!re)return null;var ne=D[z].version.status,se=D[z].version.duration,oe="programme"===re.items[0].kind?"video":"audio",me="video"===oe?"playback-avkx:play":"content-types:audio";oe="LIVE"===ne?"live ".concat(oe):oe;var pe=(0,d.A)(),fe=(e=>{var{topicUrn:t,curationUrn:i,pid:r,mediaType:n,mediaTitle:a,attribution:s,isPersistent:o}=e,l=o?{itemType:"persistent-play",subitemType:"button"}:{itemType:"button"},d=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?U(Object(i),!0).forEach((function(t){W(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):U(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({experienceResourceId:"urn:bbc:tipo:topic:".concat(t),groupName:"Lead Media",groupItemCount:1,groupType:"media player",groupResourceId:i,itemResourceId:r,itemPosition:0},l),u=(0,V.D9)(d);return u.item.text=a,u.item.Media_Type=n,u.item.Attribution=s,u.item.Label="".concat(a," - ").concat(s),u})({topicUrn:b,curationUrn:v,pid:D[z].urn,mediaType:oe,mediaTitle:re.items[0].title,attribution:re.items[0].masterbrandName,duration:1e3*(0,l.d)(se),isPersistent:S}),be=!S;return(0,h.jsxs)(ue,{id:"mediaHeader",children:[be&&(0,h.jsx)(a.A,{"aria-live":"polite",id:te,tabIndex:"-1",children:_&&(0,h.jsx)("h2",{children:"Player"})}),be&&(0,h.jsx)(n.A,{media:re,title:re.items[0].title,setMediaValues:j,isPlayerShowing:P,leadMediaUrn:L,focusId:te,channelAttribution:re.items[0].masterbrandName,isOppm:A,service:w,shouldAutoplay:P&&re.items[0].shouldAutoplay,enableStattoPlugin:$,enableAppBridge:ee,handleSMPEvents:e=>{var{name:t}=e;M(!0),"playing"!==t&&"mediaItemChanged"!==t||B(!0),"enterFakeFullscreen"===t&&(E(!0),x(!0)),"exitFakeFullscreen"===t&&(E(!1),x(!1))},isInFakeFullscreen:k}),p&&(0,h.jsx)(le,{isPlayerShowing:P,isOppm:A,isPersistent:S,"data-testid":"media-player-container",children:(0,h.jsxs)(ce,{isPersistent:S,children:[R({media:re,isOppm:A,isPersistent:S}),(0,h.jsxs)(de,{"data-testid":"billboard-player-container",isOppm:A,isPersistent:S,children:["COMING_SOON_LIVE"===ne&&C({media:re,translations:Q}),"LIVE"===ne&&(0,h.jsx)(I,{onClickFunction:e=>{e.preventDefault(),(0,o.PV)({setMediaValues:j,mediaUrn:L,signedIn:pe,showMSI:i,isApp:Z,setSignInPrompt:g})},iconType:me,media:re,trackingData:fe,isMediaPlayerLoaded:N,translations:Q,isPersistent:S})]}),(0,h.jsx)(ae,{media:re,isOppm:A,isPersistent:S})]})})]})}}}]);