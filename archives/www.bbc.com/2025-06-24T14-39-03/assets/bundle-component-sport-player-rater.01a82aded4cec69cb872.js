"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[2846],{63286:(e,t,r)=>{r.d(t,{A:()=>ke});var a=r(63696),i=r(89958),n=r(27813),l=r(20641),o=r(11545),s=r(468),c=r(74437),d=r(46654),u=r(95584),g=r(63548),p=r(66510),h=r(35289),m=r(62540),f=(0,i.default)("h2",{target:"eao56wr5",label:"Heading"})(l.NP," ",o.j7," color:",(e=>{var{theme:t}=e;return t.colourPalette.primary}),";"),b=(0,i.default)("p",{target:"eao56wr4",label:"Body"})(l.tc," ",o.K1," color:",(e=>{var{theme:t}=e;return t.colourPalette.secondary}),";margin-top:",c.SPACING_2,";"),v=(0,i.default)("div",{target:"eao56wr3",label:"KeyContainer"})("margin-top:",c.SPACING_4,";display:flex;flex-direction:row;>:not(:first-of-type){margin-left:",c.SPACING_6,";}"),y=(0,i.default)("div",{target:"eao56wr2",label:"KeyItemContainer"})("display:flex;flex-direction:row;align-items:center;",l.tc," ",o.K1," color:",(e=>{var{theme:t}=e;return t.colourPalette.primary}),";"),x=(0,i.default)("span",{target:"eao56wr1",label:"KeyNumber"})("display:inline-flex;align-items:center;justify-content:center;",o.Vk," width:",(0,s.A)(28),";height:",(0,s.A)(28),";margin-right:",c.SPACING_2,";border-radius:50%;background:",(e=>{var{theme:t}=e;return t.colourPalette.midground}),";color:",(e=>{var{theme:t}=e;return t.colourPalette.secondary}),";@media (min-width: ",h.cK,"){width:",(0,s.A)(32),";height:",(0,s.A)(32),";}"),j=(0,i.default)("div",{target:"eao56wr0",label:"HowToPlayContainer"})("border-top:",(0,s.A)(4)," solid ",(e=>{var{theme:t}=e;return t.colourPalette.accent}),";padding:",c.SPACING_4," ",c.SPACING_2,";@media (min-width: ",h.cK,"){padding:",c.SPACING_4,";}"),P=e=>{var{number:t,children:r}=e;return(0,m.jsxs)(y,{children:[(0,m.jsx)(x,{children:t}),(0,m.jsxs)("span",{children:[" ",r]})]})};const A=()=>(0,m.jsxs)(j,{children:[(0,m.jsx)(f,{children:"How to play"}),(0,m.jsx)(b,{children:"Rate players out of 10 for this game. The rater will close 30 minutes after the final whistle. You must be signed in to a BBC account to play."}),(0,m.jsxs)(v,{children:[(0,m.jsx)(P,{number:1,children:"Give it up"}),(0,m.jsx)(P,{number:10,children:"Pure perfection"})]})]});var S=r(60658),w=r(40550),N=r(49565),I=r(85258),O=r(59310),C=r(10737),_=r(12180),k=r(49348),R=r(25987);function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){T(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var M=(0,a.createContext)({}),E="OPEN",K="CLOSED",W=e=>Number("".concat(Math.round(Number("".concat(e,"e2"))),"e-2")).toFixed(2),L=(e,t)=>t===K?[...e.players.starters,...e.players.substitutes].sort(((e,t)=>t.averageRating-e.averageRating)):e,B=r(55522),H=(0,i.default)("div",{target:"e217yfw2",label:"SubmitIndicatorWrapper"})("display:flex;margin-left:auto;justify-content:space-between;align-items:center;width:",(0,s.A)(88),";"),J=(0,i.default)("div",{target:"e217yfw1",label:"IconWrapper"})("width:",(0,s.A)(13.33),";height:",(0,s.A)(13.33),";color:",(e=>{var{theme:t}=e;return t.colourPalette.states.success}),";"),F=(0,i.default)("div",{target:"e217yfw0",label:"SubmitText"})("color:",(e=>{var{theme:t}=e;return t.colourPalette.states.success}),";",o.B3," ",l.tc,";");const V=()=>(0,m.jsxs)(H,{"aria-label":"Submit Indicator",children:[(0,m.jsx)(J,{children:(0,m.jsx)(B.A,{type:"actions:confirm"})}),(0,m.jsx)(F,{children:"Submitted"})]});var U=(0,i.default)("span",{target:"ey207y70",label:"PlayerNameWrapper"})("white-space:nowrap;overflow:hidden;text-overflow:ellipsis;",l.NP,";");const z=e=>{var{children:t}=e;return(0,m.jsx)(U,{children:t})};var X=r(24498),Y=r(42262),q="sport_player_rater_ratings",Q=e=>{if((0,X.A)()&&(0,Y.A)()){var t=localStorage.getItem(q);return t&&JSON.parse(t)[e]||{}}return{}},Z=(0,i.default)("div",{target:"e1pg7wux6",label:"PlayerRow"})("&:not(:first-of-type){margin-top:",c.SPACING_5,";}"),$=(0,i.default)("div",{target:"e1pg7wux5",label:"PlayerDetails"})("display:flex;justify-content:space-between;margin-bottom:",c.SPACING_2,";color:",(e=>{var{theme:t}=e;return t.colourPalette.primary}),";",o.Vk," ",l.tc,";"),ee=(0,i.default)("div",{target:"e1pg7wux4",label:"Wrapper"})({name:"i1fnl9",styles:"display:flex;align-items:center;flex:1;overflow:hidden"}),te=(0,i.default)("span",{target:"e1pg7wux3",label:"PlayerShirtNumber"})("margin-right:",c.SPACING_2,";"),re=(0,i.default)("span",{target:"e1pg7wux2",label:"PlayerScore"})(o.j7,";"),ae=(0,i.default)("div",{target:"e1pg7wux1",label:"RatingBarWrapper"})("width:100%;background:",(e=>{var{theme:t}=e;return t.colourPalette.states.blockHover}),";margin-top:",c.SPACING_2,";"),ie=(0,i.default)("div",{target:"e1pg7wux0",label:"RatingBar"})("width:",(e=>{var{value:t}=e;return t/10*100}),"%;height:",(0,s.A)(8),";background:",(e=>{var{theme:t}=e;return t.colourPalette.accent}),";");const ne=e=>{var{player:t,isRaterOpen:r,initialSelectedRating:i,setSignInPrompt:n}=e,{host:l,env:o}=(0,C.i3)(),{eventId:s,tracking:c}=(0,a.useContext)(M),d=l&&l.endsWith(".com"),[u,g]=(0,a.useState)(void 0),[p,h]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{g(i)}),[i]),(0,m.jsxs)(Z,{children:[(0,m.jsxs)($,{children:[(0,m.jsxs)(ee,{children:[(0,m.jsx)(O.A,{children:"Number: "}),(0,m.jsx)(te,{children:"".concat(t.shirtNumber," ")}),(0,m.jsx)(z,{children:t.shortName})]}),r?p&&(0,m.jsx)(V,{}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(O.A,{children:"Average Rating: "}),(0,m.jsx)(re,{"data-testid":"player-score",children:W(t.averageRating)})]})]}),r?(0,m.jsx)(I.A,{id:t.id,maxRating:10,onChange:e=>{if((0,N.A)()){var r=parseInt(e.target.value,10);g(r),((e,t,r,a)=>{var{env:i,isDotCom:n}=e,l=((e,t)=>{var r="live"===e?"live":"test";return(0,k.A)({apiKey:"live"===r?"km5ifdffcjdoc":"19t3g6sdf3o50",environment:r,activityType:"reactions",timeout:3e3,useNsi:!1,isDotCom:t})})(i,n),o=((e,t,r)=>{var a,i,n=(0,R.A)().withResourceId(((e,t)=>"urn:bbc:sportsdata::matchplayerid:".concat(e,"_").concat(t))(e,t)).withResourceType("matchplayer").withResourceDomain("sport").withAction("rated").withActionContext(r).build();return G(G({},n),{},{metaData:(a={e:432241441,f:839857441,g:335119933,h:580739429,i:905910641,j:862824769,k:963722687},i=(e,t)=>a[e]*t,{e:i("e",Math.floor(1e5*Math.random())+1),f:i("f",Math.floor(1e5*Math.random())+1),g:i("g",Math.floor(1e5*Math.random())+1),h:i("h",Math.floor(1e5*Math.random())+1),i:i("i",Math.floor(1e5*Math.random())+1),j:i("j",Math.floor(1e5*Math.random())+1),k:i("k",Math.floor(1e5*Math.random())+1)})})})(t,r,a);return l.post(o)})({env:o,isDotCom:d},s,t.id,r).then((()=>{h(!0),setTimeout((()=>{h(!1)}),5e3),((e,t,r)=>{if((0,X.A)()&&(0,Y.A)()){var a,i=null!==(a=JSON.parse(localStorage.getItem(q)))&&void 0!==a?a:{};i[e]||(i[e]={}),i[e][t]=r,localStorage.setItem(q,JSON.stringify(i))}})(s,t.id,r)})).catch((e=>_.z3(e)))}else n({show:!0})},selectedRating:u,tracking:c,isSelectable:void 0===u}):(0,m.jsx)(ae,{children:(0,m.jsx)(ie,{value:t.averageRating})})]})};var le=(0,i.default)("div",{target:"e1mh8mx24",label:"TeamWrapper"})(l.tc,";",o.K1,";margin:",c.SPACING_4," ",c.SPACING_2,";@media (min-width: ",h.cK,"){margin:",c.SPACING_4,";}"),oe=(0,i.default)("h3",{target:"e1mh8mx23",label:"Headings"})(l.NP,";",o.cx,";color:",(e=>{var{theme:t}=e;return t.colourPalette.secondary}),";margin-bottom:",c.SPACING_3,";"),se=(0,i.default)("div",{target:"e1mh8mx22",label:"PlayerListWrapper"})("margin-top:",c.SPACING_3,";"),ce=(0,i.default)("hr",{target:"e1mh8mx21",label:"SubDivider"})("border:none;height:",(0,s.A)(1),";background:",(e=>{var{theme:t}=e;return t.colourPalette.midground}),";margin:",c.SPACING_4," 0;"),de=(0,i.default)("div",{target:"e1mh8mx20",label:"AccessibilityLinksWrapper"})("background-color:red;position:relative;top:",(0,s.A)(22),";left:-",c.SPACING_2,";@media (min-width: ",h.cK,"){left:-",c.SPACING_4,";}"),ue=e=>{var{players:t,isRaterOpen:r,setSignInPrompt:i}=e,{ratings:n}=(0,a.useContext)(M),[l,o]=(0,a.useState)(void 0);return(0,a.useEffect)((()=>{!r&&w.A&&/Android/.test(navigator.userAgent)&&/Chrome/.test(navigator.userAgent)&&o(-1)}),[r]),(0,m.jsx)(se,{tabIndex:l,"data-testid":"player-list-wrapper",children:t.map((e=>(0,m.jsx)(ne,{player:e,isRaterOpen:r,initialSelectedRating:n[e.id],setSignInPrompt:i},e.id)))})},ge=e=>{var{team:t,sport:r,setSignInPrompt:a,signInAvailability:i}=e,{ariaLabel:n,visualLabel:l}={ariaLabel:"Starting 11",visualLabel:"Starting XI"};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(oe,{"aria-label":n,children:(0,m.jsx)("span",{"aria-hidden":!0,children:l})}),(0,m.jsx)(ue,{players:t.players.starters,isRaterOpen:!0,setSignInPrompt:a,signInAvailability:i}),(0,m.jsx)(ce,{"aria-hidden":!0}),(0,m.jsx)(oe,{children:"Substitutes"}),t.players.substitutes.length>0?(0,m.jsx)(ue,{players:t.players.substitutes,isRaterOpen:!0,setSignInPrompt:a,signInAvailability:i}):(0,m.jsx)("p",{children:"No players have been substituted yet"})]})},pe=e=>{var{sortedTeam:t}=e;return(0,m.jsx)(ue,{players:t,isRaterOpen:!1})};const he=e=>{var{teamName:t,team:r,isRaterOpen:i,sport:n,setSignInPrompt:l,signInAvailability:o}=e,[s,c]=(0,a.useState)(!0);(0,a.useEffect)((()=>{(()=>{if(w.A){var e=/iPhone|iPad|iPod/.test(navigator.userAgent),t=navigator.userAgent.includes("Macintosh"),r=navigator.maxTouchPoints>=1;return e||t&&r}return!1})()&&c(!1)}),[]);var d,u=[{label:"Back to team tabs",url:"#tab-".concat((d=t,null==d?void 0:d.replace(/ /g,"")))}];return(0,m.jsxs)(le,{children:[i?(0,m.jsx)(ge,{team:r,sport:n,setSignInPrompt:l,signInAvailability:o}):(0,m.jsx)(pe,{sortedTeam:r}),s&&(0,m.jsx)(de,{children:(0,m.jsx)(S.A,{links:u,offset:!1})})]})};var me=r(46528),fe=(0,i.default)("div",{target:"ex2baxd5",label:"PlayerOfTheMatchWrapper"})("display:flex;flex-direction:column;background:radial-gradient(circle at 40% 15%, #fbfc7c, rgba(251, 252, 124, 0.1) 60%),radial-gradient(circle at 100%, #fdfc53, rgba(253, 252, 83, 0.1) 50%),linear-gradient(to right, #ebc848 50%, #fde966);padding:",c.SPACING_4," ",c.SPACING_2,";",l.tc,";color:",(e=>{var{theme:t}=e;return t.colourPalette.primary}),";@media (min-width: ",h.cK,"){padding:",c.SPACING_4," ",c.SPACING_4,";}"),be=(0,i.default)("div",{target:"ex2baxd4",label:"PlayerDetailsWrapper"})("display:flex;justify-content:space-between;margin-top:",c.SPACING_2,";",o.j7," ",l.NP,";"),ve=(0,i.default)("div",{target:"ex2baxd3",label:"PlayerRatingWrapper"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),ye=(0,i.default)("img",{target:"ex2baxd2",label:"Icon"})("height:100%;width:",(0,s.A)(24),";@media (min-width: ",h.cK,"){width:",(0,s.A)(28),";}"),xe=(0,i.default)("span",{target:"ex2baxd1",label:"PlayerRating"})("margin-left:",c.SPACING_2,";"),je=(0,i.default)("h2",{target:"ex2baxd0",label:"Heading"})(o.Vk,";");const Pe=e=>{var{shirtNumber:t,shortName:r,averageRating:a}=e,i=W(a);return(0,m.jsxs)(fe,{children:[(0,m.jsx)(je,{children:"Player of the match"}),(0,m.jsxs)(be,{children:[(0,m.jsx)(O.A,{children:"Number: ".concat(t," ")}),(0,m.jsx)(z,{children:r}),(0,m.jsxs)(ve,{children:[(0,m.jsx)(O.A,{children:"Average rating "}),(0,m.jsx)(ye,{src:me,"aria-hidden":!0}),(0,m.jsx)(xe,{children:i})]})]})]})};function Ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Se(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(r),!0).forEach((function(t){we(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function we(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ne=(0,i.default)("div",{target:"ekbf1x92",label:"PlayerRaterWrapper"})("background:",(e=>{var{theme:t}=e;return t.colourPalette.background}),";html.no-js &{display:none;}"),Ie=(0,i.default)("div",{target:"ekbf1x91",label:"NoJSPanel"})(l.tc,";",o.cx,";align-items:center;background-color:",(e=>{var{theme:t}=e;return t.colourPalette.midground}),";display:flex;height:",(0,s.A)(359),";padding:",c.SPACING_4,";"),Oe=(0,i.default)("hr",{target:"ekbf1x90",label:"Divider"})("margin:0;width:100%;height:",(0,s.A)(1),";border:none;background:",(e=>{var{theme:t}=e;return t.colourPalette.midground}),";"),Ce=e=>({tabName:e.fullName}),_e=e=>{var{tracking:t,sport:r,children:a}=e;if(t){var i=Se(Se({},(0,g.D9)(Se({groupType:"player rater",groupName:"Sport player rater",headline:"Sport player rater - ".concat(r),itemType:"player rater"},t))),{},{label:"Sport player rater"});return(0,m.jsx)(u.C,{tracking:i,trackDwell:!0,trackClicks:!1,children:e=>{var{trackRef:t}=e;return(0,m.jsx)(Ne,{ref:t,"data-testid":"trackingPlayerRaterWrapper",children:a})}})}return(0,m.jsx)(Ne,{children:a})};const ke=e=>{var{homeTeam:t,awayTeam:r,state:a,sport:i,eventId:l,tracking:o,setSignInPrompt:s}=e,c=(0,n.u)();if("NOT_STARTED"===a)return null;var u,g,h,f,b,v={eventId:l,ratings:Q(l),tracking:o},y=L(t,a),x=L(r,a);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("noscript",{children:(0,m.jsx)(Ie,{children:"The Player Rater cannot be displayed in your browser. Please enable JavaScript or try another browser."})}),(0,m.jsx)(n.a,{theme:c.updateTheme({palette:"light"}),children:(0,m.jsxs)(M.Provider,{value:v,children:[(0,m.jsxs)(_e,{tracking:o,sport:i,children:[a!==K?(0,m.jsx)(A,{}):(u=y,g=x,h=u[0],f=g[0],b=f.averageRating>h.averageRating?f:h,(0,m.jsx)(Pe,{shirtNumber:b.shirtNumber,shortName:b.shortName,averageRating:b.averageRating})),(0,m.jsx)(Oe,{"aria-hidden":!0}),(0,m.jsxs)(d.A,{children:[(0,m.jsx)(he,{teamName:t.fullName,team:y,isRaterOpen:a===E,layout:Ce(t),sport:i,setSignInPrompt:s},"homeTeam"),(0,m.jsx)(he,{teamName:r.fullName,team:x,isRaterOpen:a===E,layout:Ce(r),sport:i,setSignInPrompt:s},"awayTeam")]})]}),(0,m.jsx)(p.A,{type:"status",children:(0,m.jsx)("p",{children:"After the opportunity to rate players has closed, the score displayed represents the average from all the submissions by BBC Sport users."})})]})})]})}}}]);