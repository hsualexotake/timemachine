"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[7812],{75637:(e,t,i)=>{i.d(t,{A:()=>F});var r=i(63696),n=i(89958),a=i(42614),l=i(75729),o=i(27336),c=i(59310),d=i(39822),s=i(64374),u=i(60658),g=i(34576),h=i(35289),f=i(468),p=i(74437),m=i(20641),b=i(11545),y=i(41738),x=i(95584),v=i(63548);const j={default:{imageGallery:"Image gallery",previousImage:"Previous image",nextImage:"Next image",slide:"Slide",slideNumeration:"of",skipLinkText:"Skip image gallery",skipLinkEndText:"End of image gallery"},cy:{imageGallery:"Oriel luniau",previousImage:"Y llun blaenorol",nextImage:"Y llun nesaf",slide:"Sleid",slideNumeration:"o",skipLinkText:"Neidio heibio'r oriel luniau",skipLinkEndText:"Diwedd yr oriau luniau"},gd:{imageGallery:"Gailearaidh dhealbhan",previousImage:"Dealbh roimhe",nextImage:"An ath dhealbh",slide:"Duilleag",slideNumeration:"de",skipLinkText:"Leum seachad air gailearaidh dhealbhan",skipLinkEndText:"Deireadh gailearaidh dhealbhan"}};i(91315);var k=i(62540);function w(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function A(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?w(Object(i),!0).forEach((function(t){S(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):w(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function S(e,t,i){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var O=(0,n.default)("section",{target:"e47idof9",label:"ImageGallerySection"})("position:relative;background:",(e=>{var{theme:t,useAccentColour:i}=e;return i?t.colourPalette.accent:t.colourPalette.midground}),";"),P=(0,n.default)("span",{target:"e47idof8",label:"StyledAccessibilityLinks"})({name:"17q2mnx",styles:">:first-child:focus{z-index:2;}"}),C=(0,n.default)("ol",{target:"e47idof7",label:"Gallery"})({name:"wemehq",styles:"max-width:100%;display:flex;overflow-x:auto;scroll-snap-type:x mandatory;position:relative;-ms-overflow-style:none;scrollbar-width:none;margin:0;padding:0;list-style:none;&::-webkit-scrollbar{display:none;}"}),E=(0,n.default)("li",{target:"e47idof6",label:"Slide"})({name:"160gz0d",styles:"width:100%;min-height:100%;flex-shrink:0;position:relative;scroll-snap-align:start;scroll-snap-stop:always;display:flex;flex-direction:column; z-index:1"}),I=(0,n.default)("div",{target:"e47idof5",label:"ContainerWithBackground"})("width:100%;padding-top:100%;position:relative;overflow:hidden;flex-grow:0;flex-shrink:0;@media (min-width: ",h.cK,"){padding-top:56.25%;}&::before{content:'';position:absolute;z-index:0;top:",(0,f.A)(-60),";left:",(0,f.A)(-60),";width:calc(100% + ",(0,f.A)(120),");height:calc(100% + ",(0,f.A)(120),");background-image:url(",(e=>{var{image:t}=e;return t}),");background-size:cover;background-position:center;filter:blur(",(0,f.A)(30),");}"),L=(0,n.default)("div",{target:"e47idof4",label:"ContentPositioning"})({name:"1y45q3k",styles:"display:flex;flex-direction:column;justify-content:center;align-items:center;position:absolute;top:0;bottom:0;left:0;right:0"}),_=(0,n.default)("div",{target:"e47idof3",label:"ImageContainer"})("max-width:100%;max-height:100%;position:absolute;top:0px;right:0px;bottom:0px;left:0px;>:first-child{padding-bottom:100%;@media (min-width: ",h.cK,"){padding-bottom:56.25%;}}"),D=(0,n.default)("div",{target:"e47idof2",label:"StyledControls"})((e=>{var{hidden:t}=e;return t&&"visibility: hidden;"})," display:flex;justify-content:flex-end;align-items:center;height:",(0,f.A)(44),";padding:",p.SPACING_6," ",p.SPACING_2," ",p.SPACING_2," 0;"),N=(0,n.default)("div",{target:"e47idof1",label:"Buttons"})("display:flex;gap:",p.SPACING_3,";"),T=(0,n.default)("p",{target:"e47idof0",label:"CurrentEntry"})(m.tc," ",b.cx," color:",(e=>{var{theme:t}=e;return t.colourPalette.primary}),";margin-right:",p.SPACING_4,";"),G=e=>{var{children:t}=e,[i,n]=(0,r.useState)(!0);return(0,r.useEffect)((()=>{n(!1)}),[]),(0,k.jsx)(D,{hidden:i,children:t})},z=e=>{var{condition:t,children:i}=e;return t?(0,k.jsx)(g.A,{children:i}):i};const F=e=>{var{id:t="storyboard",images:i,tracking:n,useAccentColour:g,count:h}=e,f="".concat(t,"-image-gallery"),p="".concat(t,"-live-region"),m="".concat(t,"-end-of-image-gallery"),b=i.length,[w,S]=(0,r.useState)(!0),[D,F]=(0,r.useState)(1===b),q=(0,r.useRef)(null),B=(0,r.useRef)([]),[K,R]=(0,r.useState)(0),H=(0,r.useCallback)((e=>{var{directionOffset:t=0}=e;q.current.scrollLeft=q.current.offsetWidth*(K+t)}),[K]),U={root:q.current,rootMargin:"0px",threshold:.5},W=(0,a.A)(B.current,U);(0,r.useEffect)((()=>{W&&W.forEach((e=>{var t=B.current.findIndex((t=>t.current.isEqualNode(e.target)));e.isIntersecting&&t>-1&&e.intersectionRatio>=.5&&(R(t),S(0===t),F(t===b-1))}))}),[W,b]);var Y=(0,y.Dn)(),M=j[Y]||j.default,{imageGallery:V,slideNumeration:J,previousImage:Q,nextImage:X,slide:Z,skipLinkText:$,skipLinkEndText:ee}=M,te="".concat(K+1," ").concat(J," ").concat(b);return(0,r.useEffect)((()=>(window.addEventListener("resize",H,{passive:!0}),()=>window.removeEventListener("resize",H))),[K,H]),(0,k.jsx)(O,{"aria-labelledby":f,useAccentColour:g,children:(0,k.jsxs)(z,{condition:g,children:[(0,k.jsx)(c.A,{id:f,children:h?"".concat(V," ").concat(h):"".concat(V)}),(0,k.jsx)(P,{children:(0,k.jsx)(u.A,{offset:!1,links:[{url:"#".concat(m),label:$}]})}),(0,k.jsx)(C,{ref:q,tabIndex:0,children:i.map(((e,a)=>{var{image:o,caption:c}=null==e?void 0:e.model,{alt:u,copyright:g,src:h,srcSet:f,sizes:p,backgroundSrc:m,height:b,width:y,mimeType:j,fallbackSrcSets:w}=o,S=c?(0,k.jsx)(s.A,{blocks:c.model.blocks,container:r.Fragment,hideFromFocus:a!==K}):null,O=(0,v.D9)(A({groupName:"Storyboard Experience",groupType:"storyboard experience",groupItemCount:i.length,itemType:"slide",itemName:u,type:"image",itemPosition:a,image:{src:h}},n&&A({},n)));return(0,k.jsx)(x.C,{tracking:O,trackClicks:!1,children:e=>{var{trackRef:i}=e;return(0,k.jsx)(E,{ref:e=>{B.current[a]={current:e}},"aria-hidden":a!==K,"data-testid":"".concat(t,"-slide").concat(a),children:(0,k.jsx)("div",{ref:i,children:(0,k.jsx)(d.A,{caption:S,copyright:g,mediaType:"image",captionVariant:"storyboard",children:(0,k.jsx)(I,{image:m,children:(0,k.jsx)(L,{children:(0,k.jsx)(_,{children:(0,k.jsx)(l.A,{fallbackSrcSets:w,mimeType:j,src:h,srcSet:f,sizes:p,alt:u,loading:0===a?"eager":"lazy",height:b,width:y,placeholderObjectFit:"contain",placeholder:"transparent"})})})})})})},"".concat(h,"-").concat(a))}},"".concat(h,"-").concat(a))}))}),(0,k.jsxs)(G,{children:[(0,k.jsx)(T,{"data-testid":"".concat(t,"-current-entry"),children:te}),(0,k.jsxs)(N,{children:[(0,k.jsx)(o.A,{emphasis:"high",iconType:"arrows:chevron-left",iconOnly:!0,onClick:()=>H({directionOffset:-1}),disabled:w,"data-testid":"".concat(t,"-back-button"),children:Q}),(0,k.jsx)(o.A,{emphasis:"high",iconType:"arrows:chevron-right",iconOnly:!0,onClick:()=>H({directionOffset:1}),disabled:D,"data-testid":"".concat(t,"-forward-button"),children:X})]})]}),(0,k.jsx)(c.A,{"data-testid":p,id:p,"aria-live":"polite","aria-atomic":"true",children:(()=>{var e,t=i[K],{image:r,caption:n}=null==t?void 0:t.model,{alt:a}=r,l=null==n||null===(e=n.model)||void 0===e||null===(e=e.blocks)||void 0===e?void 0:e.filter((e=>"paragraph"===(null==e?void 0:e.type))),o=null==l?void 0:l.reduce(((e,t)=>{var i,r=null==t||null===(i=t.model)||void 0===i?void 0:i.text;return"".concat(e," ").concat(r).trim()}),"");return(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)("span",{role:"text",children:[Z," ",te,", ",a,", ",o]})})})()}),(0,k.jsx)(c.A,{as:"div",children:(0,k.jsx)("div",{id:m,tabIndex:-1,children:ee})})]})})}}}]);