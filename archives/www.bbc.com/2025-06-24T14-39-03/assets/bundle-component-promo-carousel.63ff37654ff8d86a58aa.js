"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5857],{27508:(e,t,r)=>{r.d(t,{A:()=>X});var n,o,i,a,l=r(63696),c=r(89958),s=r(61223),u=r(95584),d=r(74437),m=r(63548),p=r(98804),g=r(26508),f=r(59226),h=r(88643),v=r(91785),C=r(35289),b=r(468),x=r(16061),y=r(27336),w=r(20048),A=r(34576),j=r(62540),I=e=>{var{withMonochromeControls:t,children:r}=e;return t?(0,j.jsx)(A.A,{on:"background",children:r}):r};function P(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var k={base:{min:C.E6},small:{min:C.jq},medium:{min:C._G},large:{min:C.R4},xl:{min:C.Yo},xxl:{min:C.f}},S=(0,b.A)(124),O="(pointer: fine), (min-width: ".concat(C.js,")"),_=(0,c.default)("div",{target:"e1mhatdq6",label:"CarouselWrapper"})({name:"nhejpy",styles:"container-type:inline-size"}),B=(0,c.default)("div",{target:"e1mhatdq5",label:"CarouselContainer"})("position:relative;--carousel-promo-peek:0.333;--carousel-left-padding:",(e=>{var{isCompact:t}=e;return t?0:d.SPACING_2}),";--carousel-right-padding:",d.SPACING_2,";--carousel-top-padding:",d.SPACING_2,";--carousel-bottom-padding:",d.SPACING_2,";--carousel-promo-spacing:",d.SPACING_2,";@media ",O,"{--carousel-right-padding:",S,";--carousel-promo-peek:0;}",(e=>{var{isCompact:t}=e;return t?(0,v.AH)(n||(n=P(["\n          @supports not (container-type: inline-size) {\n            @media (min-width: ",") {\n              --carousel-promo-spacing: ",";\n            }\n          }\n\n          @container (min-width: ",") {\n            --carousel-promo-spacing: ",";\n          }\n        "])),C.cK,d.SPACING_4,C.cK,d.SPACING_4):(0,v.AH)(o||(o=P(["\n          @media (min-width: ",") {\n            --carousel-left-padding: ",";\n            --carousel-right-padding: ",";\n          }\n\n          @media "," {\n            --carousel-right-padding: ",";\n            --carousel-promo-peek: 0;\n          }\n\n          @media (min-width: ",") {\n            --carousel-left-padding: calc((100% - ",") / 2 + ",");\n            --carousel-right-padding: calc((100% - ",") / 2 + ",");\n          }\n          @media (min-width: ",") {\n            --carousel-left-padding: calc((100% - ",") / 2 + ",");\n            --carousel-right-padding: calc((100% - ",") / 2 + ",");\n          }\n\n          @media (min-width: ",") {\n            --carousel-promo-spacing: ",";\n          }\n        "])),C.jN,d.SPACING_4,d.SPACING_4,O,S,C.c$,C.c$,d.SPACING_4,C.c$,S,C.Xb,C.Xb,d.SPACING_4,C.Xb,S,C.cK,d.SPACING_4)}),";"),E=(0,c.default)("div",{target:"e1mhatdq4",label:"CarouselLeftOverlay"})("position:absolute;top:0;bottom:0;left:0;z-index:",x.o.PROMO_CAROUSEL_CURTAIN,";display:flex;pointer-events:none;width:var(--carousel-left-padding);@media ",O,"{html:not(.no-js) &{pointer-events:initial;background-color:",(e=>{var{theme:t}=e;return t.colourPalette.backgroundTranslucent}),";}}"),R=(0,c.default)("div",{target:"e1mhatdq3",label:"CarouselRightOverlay"})("position:absolute;top:0;bottom:0;right:0;z-index:",x.o.PROMO_CAROUSEL_CURTAIN,";align-items:center;display:flex;pointer-events:none;width:calc(var(--carousel-right-padding) + 1px);@media ",O,"{html:not(.no-js) &{pointer-events:initial;background-color:",(e=>{var{theme:t}=e;return t.colourPalette.backgroundTranslucent}),";}}"),N=(0,c.default)("div",{target:"e1mhatdq2",label:"CarouselControls"})("display:none;gap:",d.SPACING_1,";padding-left:",d.SPACING_4,";@media ",O,"{html:not(.no-js) &{display:flex;}}"),L=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"media";return Object.entries(e).filter((e=>{var[t]=e;return k[t]})).map((e=>{var[r,n]=e;return"container"===t?"\n          @container (min-width: ".concat((0,b.A)(k[r].min),") {\n            grid-auto-columns: calc(100% / (").concat(n," + var(--carousel-promo-peek)) - var(--carousel-promo-spacing));\n          }\n    "):"\n          @media (min-width: ".concat((0,b.A)(k[r].min),") {\n            grid-auto-columns: calc(100% / (").concat(n," + var(--carousel-promo-peek)) - var(--carousel-promo-spacing));\n          }\n        ")})).join(" ")},G=(0,c.default)("ul",{target:"e1mhatdq1",label:"CarouselContent"})("display:grid;grid-gap:var(--carousel-promo-spacing);grid-template-rows:1fr;grid-auto-flow:column;overflow-x:scroll;scroll-padding-left:var(--carousel-left-padding);scroll-behavior:",(e=>{var{shouldApplyScrollAnimation:t}=e;return"".concat(t?"smooth":"auto")}),";padding:var(--carousel-top-padding) var(--carousel-right-padding) var(--carousel-bottom-padding) var(--carousel-left-padding);@media (prefers-reduced-motion){scroll-behavior:auto;}@media not (prefers-reduced-motion){@media ",O,"{html:not(.no-js) &{scroll-snap-type:x proximity;}}}html:not(.no-js) &{scrollbar-width:none;-ms-overflow-style:none;&::-webkit-scrollbar{display:none;}}",(e=>{var{columnsByBreakpoint:t,legacyBrowserBreakpoints:r,isCompact:n}=e;return n?(0,v.AH)(i||(i=P(["\n          @supports (container-type: inline-size) {\n            ",";\n          }\n          @supports not (container-type: inline-size) {\n            ",";\n          }\n        "])),L(t,"container"),L(r,"media")):(0,v.AH)(a||(a=P(["\n          ",";\n        "])),L(t,"media"))}),";"),D=(0,c.default)("li",{target:"e1mhatdq0",label:"CarouselItem"})({name:"1vwdw94",styles:"scroll-snap-align:start;&[inert]{opacity:0.999;}"}),T=e=>{var{children:t,isCompact:r,columnsByBreakpoint:n,currentIndex:o,setCurrentIndex:i,lastIndex:a,setLastIndex:c,withMonochromeControls:s,activePromoIndex:u,activePromoRef:d,legacyBrowserBreakpoints:m={base:2,small:2,medium:2,large:2,xl:2,xxl:2}}=e,p=(0,l.useMemo)((()=>Array.isArray(t)?t:[t]),[t]),[g,f]=(0,l.useState)(0),[h,v]=(0,l.useState)(0),[C,b]=(0,l.useState)(!0),x=(0,w.A)(O),A=0===o,P=a+1===p.length,k=(0,l.useRef)(),S=(0,l.useRef)(),L=(0,l.useRef)(),T=(0,l.useRef)([]);(e=>{var{carouselItemElements:t,carouselContentElement:r,leftCurtain:n,rightCurtain:o,setLastIndex:i,setCurrentIndex:a}=e;(0,l.useEffect)((()=>{var e,l=()=>{var e=n.current.getBoundingClientRect().right,r=o.current.getBoundingClientRect().left;if(r&&e){var l=null,c=null,s=t.filter(Boolean);for(var[u,d]of s.entries()){var m=d.getBoundingClientRect();if(m.right-r-1>.9)break;var p=m.left-e;null===l&&p>-.9&&(l=u),c=u}a(l),i(c)}},c=()=>{e||(e=setTimeout((()=>{l(),e=null}),100))};return l(),r&&r.addEventListener("scroll",c),window.addEventListener("resize",l),()=>{null==r||r.removeEventListener("scroll",c),window.removeEventListener("resize",l)}}),[r,t,n,o,a,i])})({carouselItemElements:T.current,carouselContentElement:k.current,setLastIndex:c,setCurrentIndex:i,leftCurtain:S,rightCurtain:L}),(e=>{var{carouselItemElements:t,carouselContentElement:r,scrollToIndex:n,scrollCount:o,leftCurtain:i,currentIndex:a}=e;(0,l.useEffect)((()=>{var e=t[n];if(e&&n!==a){var o=e.getBoundingClientRect().left,l=i.current.getBoundingClientRect().right;r.scrollLeft+=o-l}}),[n,o,t,i,r])})({carouselItemElements:T.current,carouselContentElement:k.current,scrollToIndex:g,scrollCount:h,leftCurtain:S,currentIndex:o});var z=e=>{f(e),v((e=>e+1))},q=A?"Scroll to previous item":"Scroll to previous item, ".concat(o," of ").concat(p.length),H=P?"Scroll to next item":"Scroll to next item, ".concat(a+2," of ").concat(p.length);return(0,l.useEffect)((()=>{u>=0&&(b(!1),z(u))}),[u]),(0,l.useEffect)((()=>{u>=o&&u<=a&&!C&&(null==d||d.focus(),b(!0))}),[u,o,d,a,C]),(0,j.jsx)(_,{children:(0,j.jsxs)(B,{role:"group",isCompact:r,children:[(0,j.jsx)(E,{ref:S}),(0,j.jsx)(R,{ref:L,children:(0,j.jsx)(I,{withMonochromeControls:s,children:(0,j.jsxs)(N,{children:[(0,j.jsx)(y.A,{emphasis:"high",iconType:"arrows:chevron-left",iconOnly:!0,disabled:A,onClick:()=>{f(o-1),v((e=>e+1))},"data-testid":"carousel-previous-button",children:q}),(0,j.jsx)(y.A,{emphasis:"high",iconType:"arrows:chevron-right",iconOnly:!0,disabled:P,onClick:()=>{f(o+1),v((e=>e+1))},"data-testid":"carousel-next-button",children:H})]})})}),(0,j.jsx)(G,{ref:k,columnsByBreakpoint:n,legacyBrowserBreakpoints:m,isCompact:r,areControlsVisible:x,role:"list",shouldApplyScrollAnimation:C,children:p.map(((e,t)=>{var r=t>a||t<o,n=r&&x?"":void 0;return(0,j.jsx)(D,{"data-testid":"carousel-item",ref:e=>T.current[t]=e,inert:n,onFocus:()=>{r&&z(o+(t-a))},onClick:e=>{r&&e.preventDefault()},children:e},t)}))})]})})};function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(Object(r),!0).forEach((function(t){H(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function H(e,t,r){return(t=function(e){var t=function(e){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var M=(0,c.default)("div",{target:"e1nufmfc1",label:"StyledHeadingLinkWrapper"})("padding:",d.SPACING_4," 0 ",d.SPACING_2," 0;"),U=(0,c.default)("div",{target:"e1nufmfc0",label:"PromoCarouselContainer"})("background-color:",(e=>{var{theme:t}=e;return t.colourPalette.background}),";contain:content;padding-bottom:",d.SPACING_2,";"),K={base:2,medium:3,large:4,xxl:6};const X=e=>{var{title:t,titleUrl:r,subtitle:n,promos:o,tracking:i,isCompact:a,disableDwellTracking:c=!1,withContainedPromos:d=!0,columnsByBreakpoint:v=K,withMonochromeControls:C=!1,experimentTracking:b={},activePromoIndex:x,legacyBrowserBreakpoints:y,withPromoHeadings:w=!1}=e,[A,I]=(0,l.useState)(0),[P,k]=(0,l.useState)(o.length-1),S=(0,l.useRef)([]);return(0,j.jsxs)(U,{children:[t&&(0,j.jsxs)(s.A,{children:[t&&r&&(0,j.jsx)(u.C,q(q({tracking:(0,m.D9)(q(q({groupType:"promo carousel"},i),{},{entityName:"item",itemType:"topic link",url:r,itemPosition:0,headline:t,groupItemCount:o.length+1}))},(0,p.l)(b)),{},{children:e=>{var{trackRef:o}=e;return(0,j.jsx)(M,{children:(0,j.jsx)(g.A,{title:t,titleUrl:r,subtitle:n,spacing:2,trackRef:o})})}})),t&&!r&&(0,j.jsx)(M,{children:(0,j.jsx)(g.A,{title:t,subtitle:n,spacing:2})})]}),(0,j.jsx)(T,{isCompact:a,columnsByBreakpoint:v,currentIndex:A,setCurrentIndex:I,lastIndex:P,setLastIndex:k,withMonochromeControls:C,activePromoIndex:x,activePromoRef:S.current[x],legacyBrowserBreakpoints:y,children:o.map(((e,t)=>{var n,a=null==i||null===(n=i.promos)||void 0===n?void 0:n[t],l=t>=A&&t<=P,s=l&&!c,g=(0,h.P)({promo:e}),v=(0,m.D9)(q(q(q(q({},g),a),{},{groupType:"promo carousel"},i),{},{itemPosition:r?t+1:t,groupItemCount:r?o.length+1:o.length}));return(0,j.jsx)(u.C,q(q({trackDwell:s,trackView:l,tracking:v},(0,p.l)(b)),{},{children:e=>{var{trackRef:r}=e;return(0,j.jsx)(f.A,q(q({trackRef:r,activePromoRef:e=>S.current[t]=e},g),{},{isContained:d,size:"medium",isInCollection:!0,overrideAspectRatio:!0,headingLevel:w?3:null}),"".concat(g.headline).concat(g.url))}}),t)}))})]})}}}]);