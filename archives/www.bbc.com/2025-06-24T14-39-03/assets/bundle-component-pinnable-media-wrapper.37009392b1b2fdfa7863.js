"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[133],{47419:(e,n,t)=>{t.d(n,{A:()=>S});var a=t(63696),o=t(89958),i=t(35289),r=t(16061),l=t(82490),d=t(74437),s=t(468),c=t(20641),u=t(11545),h=t(42614),P=t(20048),f=t(55522),b=t(62540),v=(0,o.default)("button",{target:"e2n3ago0",label:"StyledCloseButton"})(c.NP," ",u.K1," box-sizing:content-box;width:",(0,s.A)(16),";height:",(0,s.A)(16),";background:none;border:none;color:inherit;cursor:pointer;padding:",d.SPACING_4,";padding-right:",(e=>{var{shouldBePinned:n}=e;return n?"".concat(d.SPACING_4):"0"}),";opacity:0;transition:opacity 300ms ease-in-out;transition-delay:",(e=>{var{shouldBePinned:n}=e;return n?"0":"200ms"}),";svg{pointer-events:none;height:auto;}");const p=e=>{var{closeButtonAction:n,shouldBePinned:t,label:a,unsafeClickTrackRef:o}=e;return(0,b.jsx)(v,{onClick:n,shouldBePinned:t,"data-testid":"pinnable-media-close","aria-hidden":!t,tabIndex:t?0:-1,ref:o,children:(0,b.jsx)(f.A,{type:"actions:close",children:a})})};var m="(orientation: portrait) and (max-width: ".concat(i.cK,")"),g=(0,o.default)("div",{target:"e1vp1lnn8",label:"Container"})("position:relative;",(e=>{var{isInFakeFullscreen:n}=e;return!n&&"z-index: ".concat(r.o.PINNABLE_MEDIA_WRAPPER,";")}),";"),A=(0,o.default)("div",{target:"e1vp1lnn7",label:"Placeholder"})("width:100%;html:not(.no-js) &{",(0,l.ak)({width:16,height:9}),";}"),C=(0,o.default)("div",{target:"e1vp1lnn6",label:"Sentinel"})("position:absolute;top:-",d.SPACING_2,";left:0;right:0;bottom:0;@media (min-width: ",i.jN,"){top:-",d.SPACING_4,";}"),x=(0,o.default)("div",{target:"e1vp1lnn5",label:"PinnableControls"})("display:flex;flex-direction:column;justify-content:flex-end;align-items:center;color:",(e=>{var{theme:n}=e;return n.colourPalette.primary}),";transition:transform 300ms ease-in-out;transition-delay:100ms;transform:translateY(-100%);border-bottom:",(e=>{var{theme:n}=e;return"".concat((0,s.A)(2)," solid ").concat(n.colourPalette.background)}),";background-color:",(e=>{var{theme:n}=e;return n.colourPalette.background}),";z-index:-1;position:relative;html.no-js &{display:none;}"),_=(0,o.default)("div",{target:"e1vp1lnn4",label:"PinnableExtraComponent"})("width:100%;>*{margin:",(e=>{var{shouldBePinned:n}=e;return n?"0 ".concat(d.SPACING_2):"0 0"}),";@media (min-width: ",i.jN,"){margin-right:",(e=>{var{shouldBePinned:n}=e;return n?"".concat(d.SPACING_4):0}),";}}"),B=(0,o.default)("div",{target:"e1vp1lnn3",label:"PinnableBar"})({name:"1j0mwa",styles:"display:flex;width:100%;justify-content:flex-end;align-items:center"}),N=(0,o.default)("span",{target:"e1vp1lnn2",label:"PinnableTitle"})(c.NP," ",u.cx,";flex:1;margin:",(e=>{var{shouldBePinned:n}=e;return n?"".concat(d.SPACING_3," ").concat(d.SPACING_2):"".concat(d.SPACING_3," 0")}),";&:focus{outline-style:none;}&:focus-visible{outline-style:auto;}"),I=(0,o.default)("div",{target:"e1vp1lnn1",label:"ContainerWrapper"})("background-color:",(e=>{var{theme:n}=e;return n.colourPalette.background}),";",(e=>{var{shouldBePinned:n}=e;return n&&"\n    padding: ".concat(d.SPACING_2," ").concat(d.SPACING_2," 0 ").concat(d.SPACING_2,";\n\n    @media (min-width: ").concat(i.jN,") {\n      padding: ").concat(d.SPACING_4," ").concat(d.SPACING_4," 0 ").concat(d.SPACING_4,";\n    }\n  ")}),";"),j=(0,o.default)("div",{target:"e1vp1lnn0",label:"PinnableItem"})("position:",(e=>{var{shouldBePinned:n}=e;return n?"fixed":"absolute"}),";top:0;left:0;right:0;pointer-events:none;html.no-js &{position:relative;}>*{pointer-events:all;}",x,"{",(e=>{var{shouldBePinned:n,theme:t}=e;return n&&"\n      transform: translateY(0);\n      border-bottom: ".concat((0,s.A)(2)," solid ").concat(t.colourPalette.border,";\n      box-shadow: 0 ").concat((0,s.A)(2)," ").concat((0,s.A)(12)," 0 rgba(0, 0, 0, 0.6);\n\n      @media (min-width: ").concat(i.jN,") {\n        padding-left: ").concat(d.SPACING_2,";\n      }\n\n      ").concat(B," > * {\n        opacity: 1;\n      }\n    ")}),";}");const S=e=>{var{children:n,title:t,disabled:o,forcePinned:i=!1,onPinnableChange:r,shouldFocusTitle:l,closeButtonLabel:d,unsafeViewTrackRef:s,unsafeClickTrackRef:c,extraControlsComponent:u,isInFakeFullscreen:f}=e,v=(0,a.useRef)(),S=(0,a.useRef)(),[k,y]=(0,a.useState)(!1),G=k||o,{shouldBePinned:w}=((e,n,t,a)=>{var o=(e=>{var n=(0,h.A)(e,{threshold:1}),t=n&&n.boundingClientRect.y<0;return n&&n.intersectionRatio<1&&t})(e),i=(0,P.A)(n);return{shouldBePinned:a||o&&i&&!t}})(v,m,G,i);return(0,a.useEffect)((()=>{r&&r({isPinned:w,hasBeenClosed:k})}),[r,w,k]),(0,a.useEffect)((()=>{l&&S.current&&S.current.focus()}),[S,l]),(0,b.jsxs)(g,{isInFakeFullscreen:f,children:[(0,b.jsx)(C,{ref:v}),(0,b.jsxs)(j,{shouldBePinned:w,children:[(0,b.jsx)(I,{shouldBePinned:w,children:n}),(0,b.jsxs)(x,{children:[u&&(0,b.jsx)(_,{shouldBePinned:w,"aria-hidden":!w,children:u}),(0,b.jsxs)(B,{children:[t&&(0,b.jsx)(N,{shouldBePinned:w,"aria-hidden":!w,tabIndex:"-1",ref:S,children:t}),(0,b.jsx)(p,{closeButtonAction:()=>y(!0),shouldBePinned:w,label:d,unsafeClickTrackRef:c})]}),w&&(0,b.jsx)("div",{ref:s})]})]}),(0,b.jsx)(A,{})]})}}}]);