"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[425],{82989:function(t,e,n){n.d(e,{Z:function(){return custom_cta_CustomCTA}});var i=n(52322);let PlayIcon=()=>(0,i.jsxs)("svg",{viewBox:"0 0 82 82",children:[(0,i.jsx)("circle",{cx:"41",cy:"41",r:"37",fill:"#fff"}),(0,i.jsx)("polygon",{fill:"#202224",points:"32,25 32,58 60,42"})]}),GuidanceIcon=()=>(0,i.jsxs)("svg",{width:"15",height:"16",viewBox:"0 0 15 16",fill:"none",children:[(0,i.jsxs)("g",{clipPath:"url(#clip0_32424_6036)",children:[(0,i.jsx)("path",{d:"M7.5 15.2964C11.4844 15.2964 14.5312 12.2495 14.5312 8.26514C14.5312 4.28076 11.4844 1.23389 7.5 1.23389C3.51562 1.23389 0.46875 4.28076 0.46875 8.26514C0.46875 12.2495 3.51562 15.2964 7.5 15.2964Z",fill:"white"}),(0,i.jsx)("path",{d:"M7.5 15.2964C11.4844 15.2964 14.5312 12.2495 14.5312 8.26514C14.5312 4.28076 11.4844 1.23389 7.5 1.23389C3.51562 1.23389 0.46875 4.28076 0.46875 8.26514C0.46875 12.2495 3.51562 15.2964 7.5 15.2964ZM7.73438 12.2495C5.25 12.2495 3.70312 10.7495 3.70312 8.26514C3.70312 5.87451 5.34375 4.28076 7.92188 4.28076C8.85938 4.28076 9.70312 4.42139 10.4531 4.74951V6.39014C9.79688 6.10889 9.09375 5.87451 8.20312 5.87451C6.5625 5.87451 5.67188 6.71826 5.67188 8.31201C5.67188 10.2808 6.89062 11.0776 9.04688 10.6558V9.01514H7.6875V7.74951H10.6875V11.7339C9.84375 12.062 8.76562 12.2495 7.73438 12.2495Z",fill:"#FF0000"})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_32424_6036",children:(0,i.jsx)("rect",{width:"15",height:"15",fill:"white",transform:"translate(0 0.765137)"})})})]});var a=n(67862),r=n(15893),l=n(64650),o=n(41035);function _templateObject(){let t=(0,a._)(["\n      width: 56px;\n      height: 56px;\n    "]);return _templateObject=function(){return t},t}function _templateObject1(){let t=(0,a._)(["\n  width: 80px !important;\n  height: 80px !important;\n  transition: opacity 0.3s;\n\n  svg {\n    width: auto !important;\n    height: auto !important;\n  }\n\n  ","\n"]);return _templateObject1=function(){return t},t}function _templateObject2(){let t=(0,a._)(["\n  width: 100%;\n  height: 100%;\n  z-index: 1000;\n  display: grid;\n  place-items: center;\n  cursor: pointer;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  position: absolute;\n  background-color: transparent !important;\n\n  "," {\n    opacity: 0.75;\n  }\n\n  &:hover {\n    "," {\n      opacity: 1;\n    }\n  }\n"]);return _templateObject2=function(){return t},t}function _templateObject3(){let t=(0,a._)(["\n    padding: 8px;\n    background-color: ",";\n    display: flex;\n    align-items: center;\n  "]);return _templateObject3=function(){return t},t}function _templateObject4(){let t=(0,a._)(["\n  ","\n"]);return _templateObject4=function(){return t},t}function _templateObject5(){let t=(0,a._)(["\n        max-width: unset;\n      "]);return _templateObject5=function(){return t},t}function _templateObject6(){let t=(0,a._)(["\n    display: grid;\n    grid-template-columns: auto auto;\n    padding-inline: 9px 16px;\n    padding-block: 8px;\n    text-align: start;\n    font-weight: 700;\n    background-color: ",";\n    max-width: 332px;\n    align-items: center;\n\n    & svg {\n      width: 15px;\n      height: 15px;\n      padding-right: 8px;\n    }\n\n    ","\n  "]);return _templateObject6=function(){return t},t}function _templateObject7(){let t=(0,a._)(["\n  ","\n"]);return _templateObject7=function(){return t},t}function _templateObject8(){let t=(0,a._)(["\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    color: ",";\n    display: grid;\n\n    ",";\n  "]);return _templateObject8=function(){return t},t}function _templateObject9(){let t=(0,a._)(["\n      grid-template-columns: min-content 1fr;\n    "]);return _templateObject9=function(){return t},t}function _templateObject10(){let t=(0,a._)(["\n  ",";\n\n  ","\n"]);return _templateObject10=function(){return t},t}let c=r.ZP.div.withConfig({componentId:"sc-ca512d68-0"})(_templateObject1(),(0,l.d)((0,r.iv)(_templateObject()),"group2")),u=r.ZP.button.withConfig({componentId:"sc-ca512d68-1"})(_templateObject2(),c,c),s=r.ZP.div.withConfig({componentId:"sc-ca512d68-2"})(_templateObject4(),t=>{let{theme:e}=t;return(0,r.iv)(_templateObject3(),e.container.onDefaultBG3.value)}),d=r.ZP.div.withConfig({componentId:"sc-ca512d68-3"})(_templateObject7(),t=>{let{theme:e}=t;return(0,r.iv)(_templateObject6(),"".concat(e.container.onDefaultBG3.value,"b3"),(0,l.d)((0,r.iv)(_templateObject5()),"group2"))}),p=r.ZP.div.withConfig({componentId:"sc-ca512d68-4"})(_templateObject10(),t=>{let{theme:e}=t;return(0,r.iv)(_templateObject8(),e.nonInteractive.onInverseBG.default.value,(0,o.hJ)(e.credit))},t=>{let{$hasDuration:e}=t;return e&&(0,r.iv)(_templateObject9())});var custom_cta_CustomCTA=t=>{let{onClick:e,isVisible:n,duration:a,warning:r}=t;return n?(0,i.jsxs)(u,{"data-testid":"custom-cta",onClick:e,children:[(0,i.jsx)(c,{"data-testid":"cta-play-icon",children:(0,i.jsx)(PlayIcon,{})}),(0,i.jsxs)(p,{$hasDuration:""!==a,children:[a&&(0,i.jsx)(s,{"data-testid":"cta-duration",children:a}),r&&(0,i.jsxs)(d,{children:[(0,i.jsx)(GuidanceIcon,{}),(0,i.jsx)("p",{"data-testid":"cta-warning-text",children:r})]})]})]}):null}},60721:function(t,e,n){n.d(e,{V:function(){return c}});var i=n(67862),a=n(15893),r=n(64650),l=n(69957);function _templateObject(){let t=(0,i._)(["\n          grid-template-columns: ",";\n        "]);return _templateObject=function(){return t},t}function _templateObject1(){let t=(0,i._)(["\n          grid-template-rows: ",";\n        "]);return _templateObject1=function(){return t},t}function _templateObject2(){let t=(0,i._)(["\n          padding: ",";\n        "]);return _templateObject2=function(){return t},t}function _templateObject3(){let t=(0,i._)(["\n          grid-gap: ",";\n        "]);return _templateObject3=function(){return t},t}function _templateObject4(){let t=(0,i._)(["\n          max-width: ",";\n        "]);return _templateObject4=function(){return t},t}function _templateObject5(){let t=(0,i._)(["\n          margin: ",";\n        "]);return _templateObject5=function(){return t},t}function _templateObject6(){let t=(0,i._)(["\n          grid-row: "," / span ",";\n        "]);return _templateObject6=function(){return t},t}function _templateObject7(){let t=(0,i._)(["\n          grid-column: "," / span ",";\n        "]);return _templateObject7=function(){return t},t}function _templateObject8(){let t=(0,i._)(["\n        ","\n        ","\n        ","\n        ","\n        ","\n        ","\n        ","\n        ","\n      "]);return _templateObject8=function(){return t},t}function _templateObject9(){let t=(0,i._)(["\n  ","\n"]);return _templateObject9=function(){return t},t}function _templateObject10(){let t=(0,i._)(["\n      align-content: ",";\n    "]);return _templateObject10=function(){return t},t}function _templateObject11(){let t=(0,i._)(["\n      align-self: ",";\n    "]);return _templateObject11=function(){return t},t}function _templateObject12(){let t=(0,i._)(["\n      align-items: ",";\n    "]);return _templateObject12=function(){return t},t}function _templateObject13(){let t=(0,i._)(["\n      justify-content: ",";\n    "]);return _templateObject13=function(){return t},t}function _templateObject14(){let t=(0,i._)(["\n      justify-self: ",";\n    "]);return _templateObject14=function(){return t},t}function _templateObject15(){let t=(0,i._)(["\n      justify-items: ",";\n    "]);return _templateObject15=function(){return t},t}function _templateObject16(){let t=(0,i._)(["\n      grid-gap: ",";\n    "]);return _templateObject16=function(){return t},t}function _templateObject17(){let t=(0,i._)(["\n      grid-auto-flow: ",";\n    "]);return _templateObject17=function(){return t},t}function _templateObject18(){let t=(0,i._)(["\n    display: grid;\n    box-sizing: border-box;\n    ",";\n    ",";\n    ",";\n    ",";\n    ",";\n    ",";\n    ",";\n    ",";\n    ","\n  "]);return _templateObject18=function(){return t},t}function _templateObject19(){let t=(0,i._)(["\n  ","\n"]);return _templateObject19=function(){return t},t}let o=[6,5,4,3,2,1],renderStylesForBreakpoint=t=>{let{$padding:e,$gridGap:n,$columns:i,$margin:o,$height:c,$width:u,$left:s,$rows:d,$top:p,$maxWidth:m,groups:f}=t;return(0,a.iv)(_templateObject9(),f.map(t=>(0,r.d)((0,a.iv)(_templateObject8(),!!(null==i?void 0:i.length)&&!!i[t-1]&&(0,a.iv)(_templateObject(),(0,l.i)(null==i?void 0:i[t-1])),!!(null==d?void 0:d.length)&&!!d[t-1]&&(0,a.iv)(_templateObject1(),(0,l.i)(d[t-1])),!!(null==e?void 0:e.length)&&!!e[t-1]&&(0,a.iv)(_templateObject2(),e[t-1]),!!(null==n?void 0:n.length)&&!!n[t-1]&&(0,a.iv)(_templateObject3(),n[t-1]),!!(null==m?void 0:m.length)&&!!m[t-1]&&(0,a.iv)(_templateObject4(),m[t-1]),!!(null==o?void 0:o.length)&&!!o[t-1]&&(0,a.iv)(_templateObject5(),o[t-1]),!!(null==p?void 0:p.length)&&!!(null==c?void 0:c.length)&&!!p[t-1]&&!!c[t-1]&&(0,a.iv)(_templateObject6(),p[t-1],c[t-1]),!!(null==s?void 0:s.length)&&!!(null==u?void 0:u.length)&&!!s[t-1]&&!!u[t-1]&&(0,a.iv)(_templateObject7(),s[t-1],u[t-1])),"group".concat(t))))},c=a.ZP.div.withConfig({componentId:"sc-666b6d83-0"})(_templateObject19(),t=>{let{$justifyContent:e,$justifyItems:n,$alignContent:i,$justifySelf:r,$alignItems:l,$alignSelf:c,$columns:u,$padding:s,$gridAutoFlow:d,$gridGap:p,$height:m,$margin:f,$width:b,$rows:g,$left:_,$top:v,$gap:h,$maxWidth:j}=t;return(0,a.iv)(_templateObject18(),i&&(0,a.iv)(_templateObject10(),i),c&&(0,a.iv)(_templateObject11(),c),l&&(0,a.iv)(_templateObject12(),l),e&&(0,a.iv)(_templateObject13(),e),r&&(0,a.iv)(_templateObject14(),r),n&&(0,a.iv)(_templateObject15(),n),h&&(0,a.iv)(_templateObject16(),h),d&&(0,a.iv)(_templateObject17(),d),renderStylesForBreakpoint({$padding:s,$gridGap:p,$columns:u,$margin:f,$height:m,$width:b,$rows:g,$left:_,$top:v,$maxWidth:j,groups:o}))})},27462:function(t,e,n){n.d(e,{Ts:function(){return u},V7:function(){return d},eA:function(){return c},it:function(){return s},rn:function(){return o}});var i=n(67862),a=n(15893),r=n(64650),l=n(41035);function _templateObject(){let t=(0,i._)(["\n        z-index: 9999;\n      "]);return _templateObject=function(){return t},t}function _templateObject1(){let t=(0,i._)(["\n        height: 160px;\n      "]);return _templateObject1=function(){return t},t}function _templateObject2(){let t=(0,i._)(["\n          margin-inline: -16px;\n        "]);return _templateObject2=function(){return t},t}function _templateObject3(){let t=(0,i._)(["\n      position: relative;\n\n      * {\n        overflow: hidden;\n      }\n\n      ",";\n\n      ",";\n\n      ","\n    "]);return _templateObject3=function(){return t},t}function _templateObject4(){let t=(0,i._)(["\n  ","\n"]);return _templateObject4=function(){return t},t}function _templateObject5(){let t=(0,i._)(["\n      height: 100%;\n    "]);return _templateObject5=function(){return t},t}function _templateObject6(){let t=(0,i._)(["\n      aspect-ratio: 16/9;\n    "]);return _templateObject6=function(){return t},t}function _templateObject7(){let t=(0,i._)(["\n    width: 100%;\n    height: auto;\n\n    ","\n\n    ","\n  "]);return _templateObject7=function(){return t},t}function _templateObject8(){let t=(0,i._)(["\n  ","\n"]);return _templateObject8=function(){return t},t}function _templateObject9(){let t=(0,i._)(["\n  width: 100%;\n  height: 200px;\n"]);return _templateObject9=function(){return t},t}function _templateObject10(){let t=(0,i._)(["\n  width: 100vw;\n  height: 100vh;\n  max-width: 1000px;\n"]);return _templateObject10=function(){return t},t}function _templateObject11(){let t=(0,i._)(["\n    background: ",";\n    justify-content: center;\n    align-content: center;\n    align-items: center;\n    position: absolute;\n    grid-gap: 20px;\n    display: grid;\n    z-index: 1002;\n    height: 100%;\n    width: 100%;\n    left: 0;\n    top: 0;\n  "]);return _templateObject11=function(){return t},t}function _templateObject12(){let t=(0,i._)(["\n  ","\n"]);return _templateObject12=function(){return t},t}function _templateObject13(){let t=(0,i._)(["\n    ",";\n    color: ",";\n    text-align: center;\n  "]);return _templateObject13=function(){return t},t}function _templateObject14(){let t=(0,i._)(["\n  ","\n"]);return _templateObject14=function(){return t},t}function _templateObject15(){let t=(0,i._)(["\n    ",";\n    color: ",";\n    text-align: center;\n  "]);return _templateObject15=function(){return t},t}function _templateObject16(){let t=(0,i._)(["\n  ","\n"]);return _templateObject16=function(){return t},t}let o=a.ZP.div.withConfig({componentId:"sc-664c31f5-0"})(_templateObject4(),t=>{let{$isInFakeFullscreen:e,$isAudio:n,$withNegativeMargin:i=!1}=t;return(0,a.iv)(_templateObject3(),e&&(0,a.iv)(_templateObject()),n&&(0,a.iv)(_templateObject1()),!n&&i&&(0,r.d)((0,a.iv)(_templateObject2()),"group2"))}),c=a.ZP.div.withConfig({componentId:"sc-664c31f5-1"})(_templateObject8(),t=>{let{$isAudio:e}=t;return(0,a.iv)(_templateObject7(),e&&(0,a.iv)(_templateObject5()),!e&&(0,a.iv)(_templateObject6()))});a.ZP.div.withConfig({componentId:"sc-664c31f5-2"})(_templateObject9()),a.ZP.div.withConfig({componentId:"sc-664c31f5-3"})(_templateObject10());let u=a.ZP.div.withConfig({componentId:"sc-664c31f5-4"})(_templateObject12(),t=>{let{theme:e}=t;return(0,a.iv)(_templateObject11(),e.container.onInverseBG2.value)}),s=a.ZP.div.withConfig({componentId:"sc-664c31f5-5"})(_templateObject14(),t=>{let{theme:e}=t;return(0,a.iv)(_templateObject13(),(0,l.hJ)(e.watchContentVideoTitleSmall.bpLarge),e.text.onInverseBG.default.value)}),d=a.ZP.div.withConfig({componentId:"sc-664c31f5-6"})(_templateObject16(),t=>{let{theme:e}=t;return(0,a.iv)(_templateObject15(),(0,l.hJ)(e.watchContentTitle.bpLarge),e.text.onInverseBG.default.value)})},79025:function(t,e,n){n.d(e,{Z:function(){return y}});var i=n(52322),a=n(2784),r=n(82989),l=n(42444),o=n(29090),c=n(35196),u=n(71408),s=n(9045),d=n(59726),p=n(42257),m=n(41280);let secondsToMMSS=t=>{let e=Math.floor(t/60),n=t-60*e;return"".concat(e).concat(0!==n?":".concat(n<10?"0".concat(n):"".concat(n)):":00")},isDebug=()=>!1,getAvAnalytics=(t,e)=>{let{page:n="",destination:i=s.q.test,producer:a="BBC_STUDIOS",content_id:r,content_topic:l,device_first_party_id:o,referrer_url:c,user_first_party_id:u,user_id:d}=t||{};return{counterName:n,destination:i,producer:a,sessionLabels:{counterName:n,destination:i,producer:a,device_first_party_id:o,referrer_url:c,user_first_party_id:u,user_id:d},playlistLabels:{content_id:(null==e?void 0:e.content_id)||r,content_topic:(null==e?void 0:e.content_topic)||l}}},getSettings=function(t,e,n,i,a,r){var l,o,u;let s=!(arguments.length>6)||void 0===arguments[6]||arguments[6],p=arguments.length>7&&void 0!==arguments[7]&&arguments[7],m=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0,f=arguments.length>9&&void 0!==arguments[9]&&arguments[9],b=arguments.length>10&&void 0!==arguments[10]&&arguments[10],g={livePulseColour:"#FFFFFF",...p?{skin:"audio",skipInterval:20,colour:"#FFFFFF",controls:{includeNextButton:f,includePreviousButton:!0,includeForwardIntervalButton:!0,includeBackIntervalButton:!0,alwaysEnablePreviousButton:!0,alwaysEnableNextButton:!0,popout:!1,displayJumpButtonText:!0,previousNextJustEvents:!0,speed:!1},playbackSettingsPanel:{enabled:!0,continuousPlaySetting:!0}}:{cta:{enabled:!1,visiblyHidden:!0}},...p&&!b&&{colourOnHighlightColour:"#000000",cta:{enabled:!1,visiblyHidden:!0}},...p&&b&&{foreColour:"#000000"}},_={html5Debug:isDebug(),product:"bbcx",playlistObject:t,autoplay:r,continuousPlay:s,waitOnPluginLoad:!0,enableToucan:!p||p&&b,supportFakeFullscreen:!0,counterName:a,appName:"bbc_web",appType:"responsive",allowCasting:!0,startTime:m,statsObject:e,ui:g,plugins:{toLoad:[]},...p&&{significantTime:1}},v=null===(l=(0,c.getCookie)(d.tb))||void 0===l?void 0:l.toString();if(v&&(_.appName=v,_.appType="mobile-web"),!p&&n){let t={html:"name:dfpAds.js",data:{name:"AdsPluginParameters",data:{adTag:i,debug:isDebug(),minimalUX:!1}}};null===(o=_.plugins)||void 0===o||o.toLoad.push(t)}let h=t.items[t.items.length-1];return h.serviceID&&!0===h.live&&!p&&(null===(u=_.plugins)||void 0===u||u.toLoad.push({html:"name:smp-subs-config-plugin.js",module:!0})),_},createSMPsettingsForLiveWorldNews=(t,e,n,i,a)=>{let r=[{live:!0,kind:"programme",serviceID:t}];e&&r.unshift({kind:"advert"});let{sessionLabels:l,playlistLabels:o,counterName:c,destination:u,producer:s}=getAvAnalytics(i,a);return getSettings({title:"",summary:"",items:r,holdingImageURL:"https://ichef.bbci.co.uk/images/ic/raw/p0g6qbw7.jpg",liveRewind:!0,simulcast:!0},{clipPID:"",playlistName:"",playerPosition:"",destination:u,producer:s,sessionLabels:l,playlistLabels:o},e,n,c,!1)},getJwtToken=async(t,e)=>{try{let n="media-token?".concat(e?"serviceId":"versionPid","=").concat(t),{data:i}=await (0,m.Z)(n,{});return i.token}catch(e){return p.Z.error("getJwtToken failed for: ".concat(t)),""}},getPlaylistObjectFromMediaMetadataModel=async function(t,e){var n;let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],[r]=t.versions,l=i?await getJwtToken(r.versionId,a):null,o={live:a,kind:i?"audio":"programme",duration:(t=>{let e=t.split(":");if(e.length>1){let t=parseInt(e[2].split(".")[0]);return 3600*parseInt(e[0])+60*parseInt(e[1])+t}return parseInt(t)})(r.duration.toString())};a?o.serviceID=r.versionId:o.versionID=r.versionId,l&&(o.jwtToken=l);let c=[o];e&&t.advertising&&!i&&c.unshift({kind:"advert"});let s={title:t.title,summary:t.synopses.medium,items:c,holdingImageURL:function(t){let e=null!=t?t:u.N2;return e.includes("1920xn")?e.replace("1920xn","$recipe"):e}(t.imageUrl),warning:null===(n=r.warnings)||void 0===n?void 0:n.short,liveRewind:a,simulcast:a};return s},getStatsObjectFromMediaMetadataModel=(t,e,n,i,a)=>{let r={clipPID:t.id,destination:e,producer:n,playlistName:"",playerPosition:"",playlistLabels:a,sessionLabels:i};return r},getMediaMetaDataBlockModelFromVideoBlock=t=>{let e=t.model.blocks.find(t=>"media"===t.type);return e.model.blocks.find(t=>"mediaMetadata"===t.type).model},createSMPsettingsFromBlock=async(t,e,n,i,a,r,l,o,c,u,s)=>{let d=getMediaMetaDataBlockModelFromVideoBlock(t),p=await getPlaylistObjectFromMediaMetadataModel(d,e,r,l),{sessionLabels:m,playlistLabels:f,counterName:b,destination:g,producer:_}=getAvAnalytics(c,u),v=r?"SOUNDS":_,h=getStatsObjectFromMediaMetadataModel(d,g,v,m,f);return getSettings(p,h,e,n,b,i,a,r,0,o,s)},loadOnwardJourneyPlugin=async(t,e,n,i,a)=>{var r;let l=[];for(let t=0;t<e.length;t++){let r=e[t],o=getMediaMetaDataBlockModelFromVideoBlock(r),c=await getPlaylistObjectFromMediaMetadataModel(o,n),{sessionLabels:u,playlistLabels:s,counterName:d,destination:p,producer:m}=getAvAnalytics(i,a[t]),f=getStatsObjectFromMediaMetadataModel(o,p,m,u,s),b={playlist:c,statsObject:f,showLiveOrDuration:!0,counterName:d};l.push(b)}return null===(r=t.plugins)||void 0===r||r.toLoad.push({html:"name:onwardJourney.js",data:{name:"smp.plugin.continuousplay.playlistSetChanged",data:{items:l,stopAutoplayOnGuidance:!0}}}),l},getCtaProps=t=>{let e=t.items[t.items.length-1];return{duration:e.duration?secondsToMMSS(e.duration):"",warning:t.warning||""}},isContentAvailableInTerritory=(t,e)=>{let n=getMediaMetaDataBlockModelFromVideoBlock(e),i=n.versions[0];return!i.availableTerritories||("uk"===t?i.availableTerritories.uk:i.availableTerritories.nonUk)};var f=n(19832),b=n.n(f);let usePageshow=t=>{(0,a.useEffect)(()=>{var e;let n=b()(null===(e=window.embeddedMedia)||void 0===e?void 0:e.api.players(),{}),i=document.querySelectorAll('iframe[title="youtube-embed"]'),stopAllPlayers=e=>{if(e.persisted){for(let e in n){let i=n[e];i.pause(),t(!0)}Array.from(i).forEach(t=>{t.contentWindow&&t.contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*")})}};return window.addEventListener("pageshow",stopAllPlayers),()=>window.removeEventListener("pageshow",stopAllPlayers)})};var g=n(34018),_=n(13451),v=n(13585),h=n(45318),j=n(98643),use_smp_useSmp=t=>{let{playlistLabels:e,blocks:n,activeIndex:i=0,onNextOnwardJourneyItemStartsPlaying:r,serviceId:l="",isWntvPrerollEnabled:c=!1,playerPosition:u,isAutoPlayDisabled:s,nextItemAutoPlay:d=!0,isAudio:m,isLiveRadio:f,playerContainerRef:b,startTime:O=0,onTimeUpdate:w,onPlaybackStarted:y,onPlaybackPaused:x,onPlaybackEnded:P,onUserAutoplaySettingChange:M,includeNextButton:C}=t,[T,S]=(0,a.useState)(0),[I,Z]=(0,a.useState)([]),[k,A]=(0,a.useState)(void 0),[F,D]=(0,a.useState)(!0),[L,B]=(0,a.useState)(!1),[E,N]=(0,a.useState)({duration:"",warning:""}),[V,U]=(0,a.useState)(!0),J=(0,g.Z)(),{country:R,type:$="",allowAdvertising:G}=(0,_.Z)(),z=!s&&["video","indexPage"].includes($),q=(0,v.Z)(),{isAuthenticated:H,isAuthEnabled:W}=(0,h.Z)(),Y=H&&W&&m,K=(0,o.Z)("toucan-audio");return(0,a.useEffect)(()=>{if(!q)return;let setupPlayer=async()=>{let t,i;if(l||!R||isContentAvailableInTerritory(R,n[0])||(U(!1),z=!1),m&&(z=!s),!window.dotcom)return;window.dotcom.ads||p.Z.error("dotcom-bootstrap.js has failed to load");let a="";if(l?(t=c,c&&(a=window.dotcom.ads?await window.dotcom.ads.getAdTag():""),i=createSMPsettingsForLiveWorldNews(l,c,a,q,e[0])):(t=!!window.dotcom.ads&&await window.dotcom.ads.enabled(),a=window.dotcom.ads?await window.dotcom.ads.getAdTag():"",i=await createSMPsettingsFromBlock(n[0],t,a,z,d,m,f,C,q,e[0],K)),i.statsObject.playerPosition=u,i.statsObject.playlistLabels.ad_enabled=G,i.startTime=O,N(getCtaProps(i.playlistObject)),n.length>1){let a=await loadOnwardJourneyPlugin(i,n,t,q,e);Z(a)}let o=window.embeddedMedia.api.player(b.current,i);o.bind("initialised",()=>{b.current&&(b.current.style.visibility="visible")}),o.bind("playing",()=>{D(!1);let t=window.embeddedMedia.api.players();for(let e in t){let n=t[e];n===o||n.paused()||n.pause()}}),o.bind("adsPlugin",t=>{"adStarted"===t.id&&D(!1)}),o.bind("bbc.smp.plugins.ads.event.AdsPluginExternalEvent.ALL_ADS_COMPLETED",()=>{}),o.bind("enterFakeFullscreen",()=>B(!0)),o.bind("exitFakeFullscreen",()=>B(!1)),1===n.length&&o.bind("ended",()=>D(!0)),m&&o.bind("continuousPlayChange",t=>{let{status:e}=t;return null==M?void 0:M(e)}),r&&o.bind("continuousPlay.play",t=>{if(t.index&&t.index!==T){let e=!0;R&&(e=isContentAvailableInTerritory(R,n[t.index])),U(e),e||o.pause(),S(t.index),r(t)}}),t&&o.bind("playlistLoaded",()=>{window.dotcom.ads.getAdTag().then(t=>{o.dispatchEvent("bbc.smp.plugins.ads.event.updateAdTag",{adTag:t})})}),w&&o.bind("significanttimeupdate",w),Y&&o.bind("significanttimeupdate",t=>(0,j.mV)(t,n)),y&&o.bind("playing",y),x&&o.bind("pause",x),P&&o.bind("ended",P),P&&o.bind("nextRequested",P),o.bind("previousRequested",()=>{o.currentTime(0)}),o.load(),A(o)};return J&&setupPlayer().then(),()=>{}},[J,q]),(0,a.useEffect)(()=>{if(i!==T&&k){let t=!0;R&&(t=isContentAvailableInTerritory(R,n[i])),U(t),k.loadPlaylist(I[i].playlist,{autoplay:t,statsObject:I[i].statsObject}),S(i),N(getCtaProps(I[i].playlist))}},[i]),(0,a.useEffect)(()=>{let preventDefault=t=>t.preventDefault();return L&&window.addEventListener("touchmove",preventDefault,{passive:!1}),()=>{window.removeEventListener("touchmove",preventDefault)}},[L]),usePageshow(D),{contentAvailableInTerritory:V,customCtaOptions:E,isCustomCtaVisible:F,isInFakeFullscreen:L,handleOnCustomCTAClick:()=>{k&&k.play(!0),D(!1)}}},O=n(52158),w=n(27462),y=(0,l.Z)(t=>{let{playlistLabels:e,blocks:n,activeIndex:l=0,testId:c="",onNextOnwardJourneyItemStartsPlaying:u,serviceId:s="",isWntvPrerollEnabled:d=!1,playerPosition:p,isAutoPlayDisabled:m,nextItemAutoPlay:f,isAudio:b=!1,isLiveRadio:g=!1,onTimeUpdate:_,onPlaybackStarted:v,onPlaybackPaused:h,onPlaybackEnded:j,onUserAutoplaySettingChange:y,startTime:x=0,includeNextButton:P=!0}=t,M=(0,o.Z)("legacy-article-rendering-logic"),C=(0,a.useRef)(null),{contentAvailableInTerritory:T,customCtaOptions:S,isCustomCtaVisible:I,handleOnCustomCTAClick:Z,isInFakeFullscreen:k}=use_smp_useSmp({playlistLabels:e,blocks:n,activeIndex:l,testId:c,onNextOnwardJourneyItemStartsPlaying:u,serviceId:s,isWntvPrerollEnabled:d,playerPosition:p,isAutoPlayDisabled:m,nextItemAutoPlay:f,isAudio:b,isLiveRadio:g,playerContainerRef:C,startTime:x,onTimeUpdate:_,onPlaybackStarted:v,onPlaybackPaused:h,onPlaybackEnded:j,onUserAutoplaySettingChange:y,includeNextButton:P});return(0,i.jsxs)(w.rn,{$isInFakeFullscreen:k,$isAudio:b,$withNegativeMargin:!M,children:[!T&&(0,i.jsxs)(w.Ts,{children:[(0,i.jsx)(w.it,{children:O.aD}),(0,i.jsx)(w.V7,{children:O.FA})]}),(0,i.jsx)(w.eA,{ref:C,"data-testid":c,$isAudio:b,style:{visibility:"hidden"}}),!b&&(0,i.jsx)(r.Z,{isVisible:I,onClick:Z,...S})]})},t=>{let{blocks:e,serviceId:n="",isAudio:l=!1}=t,o=(0,a.useRef)(null),{handleOnCustomCtaClick:c,isCustomCtaVisible:u}=function(t){let{serviceId:e="",isAudio:n=!1,blocks:i,playerContainerRef:r}=t,[l,o]=(0,a.useState)(!0),[c,u]=(0,a.useState)(),[d]=i,p=(0,g.Z)();return(0,a.useEffect)(()=>{let setupPlayer=async()=>{let t=s.q.test,i={page:"",destination:t,producer:"BBC_STUDIOS"},a=e?createSMPsettingsForLiveWorldNews(e,!1,"",i,{}):await createSMPsettingsFromBlock(d,!1,"",!1,!0,n,!1,!0,i,{},!0),l=window.embeddedMedia.api.player(r.current,a);l.bind("playing",()=>{o(!1);let t=window.embeddedMedia.api.players();for(let e in t){let n=t[e];n===l||n.paused()||n.pause()}}),l.bind("ended",()=>o(!0)),l.load(),u(l)};p&&setupPlayer()},[p,n,d,r,e]),{isCustomCtaVisible:l,handleOnCustomCtaClick:()=>{c&&c.play(!0),o(!1)}}}({serviceId:n,isAudio:l,blocks:e,playerContainerRef:o});return(0,i.jsxs)(w.rn,{$isInFakeFullscreen:!1,$isAudio:l,children:[(0,i.jsx)(w.eA,{ref:o,$isAudio:l}),(0,i.jsx)(r.Z,{isVisible:u,onClick:c})]})})},52158:function(t,e,n){n.d(e,{FA:function(){return r},YI:function(){return i},aD:function(){return a}});let i={$type:"mobileFullWidth",$marginBottom:["s","m","m","m","m","m"]},a="There was an error",r="This content is not available in your location."},83786:function(t,e,n){var i=n(19024);e.Z=function(t){let e=(0,i.Ze)(),n=Date.parse(t),a=function(){try{return navigator.language}catch(t){return"UTC"}}(),r=new Intl.DateTimeFormat(a,{hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:e});return isNaN(n)?"":r.format(n)}},13585:function(t,e,n){var i=n(2784),a=n(15570);e.Z=()=>{var t;let e=(0,a.Z)(),[n,r]=(0,i.useState)(e?null===(t=window.analytics)||void 0===t?void 0:t.data:null),handleSetAnalyticsData=t=>{if(t){let{page:t,destination:e,producer:n}=window.analytics.data;r({page:t,destination:e,producer:n});return}r({})};return(0,i.useEffect)(()=>{if(!n)return window.addEventListener("echo_initialize_success",()=>handleSetAnalyticsData(!0)),window.addEventListener("echo_initialize_fail",()=>handleSetAnalyticsData(!1)),()=>{window.removeEventListener("echo_initialize_success",()=>handleSetAnalyticsData(!0)),window.removeEventListener("echo_initialize_fail",()=>handleSetAnalyticsData(!1))}},[n]),n}},34018:function(t,e,n){n.d(e,{Z:function(){return useIsEmbeddedMediaReady}});var i=n(2784),a=n(79002),r=n(72855);function useIsEmbeddedMediaReady(){let t=(0,i.useContext)(a.i),[e=!1]=(0,i.useContext)(r.O);return t||e}},98643:function(t,e,n){n.d(e,{S1:function(){return getAudioProgress},mV:function(){return setAudioProgress}});var i=n(42257),a=n(41280);let r={credentials:"include",isLegacyApiEnabled:!0},l="heartbeat";async function getAudioProgress(t){let{isFetchAllowed:e,ids:n=[]}=t,o=null==n?void 0:n.map(t=>({id:t,offset:0}));if(!e||!n.length)return o;let c=new URLSearchParams;n.forEach(t=>c.append("id",t));let u={cache:"no-cache",params:c,method:"GET",paramsHaveIdenticalKeys:n.length>1,...r};try{if(1===n.length){let{data:t}=await (0,a.Z)(l,u);return[t]}{let{data:t}=await (0,a.Z)(l,u);return t}}catch(t){return i.Z.error("Error attempting to get audio progress: ",JSON.stringify(t)),o}}let createAudioProgressParams=(t,e)=>{if(Math.floor(t.currentTime)%30!=0)return!1;let n=e[0].model.blocks[0].model.blocks[0].model,i=n.versions[0],a=new URLSearchParams;return a.append("action","started"),a.append("versionPid",i.versionId),a.append("offset",Math.round(t.currentTime).toString()),a.append("id",n.id),a},setAudioProgress=async(t,e)=>{try{let n=createAudioProgressParams(t,e);if(!1===n)return;await (0,a.Z)(l,{cache:"no-cache",params:n,method:"POST",...r})}catch(t){i.Z.error("Error attempting to set audio progress: ",t)}}},19024:function(t,e,n){n.d(e,{LU:function(){return formatDuration},Ze:function(){return getTimeZone},i$:function(){return formatTimestamp},pn:function(){return formatTimestampToTime}});var i=n(16044),a=n(10004),r=n(50272),l=n(42598),o=n(96913),c=n(33889),u=n(59813);let formatTimestamp=(t,e)=>{let n;let r=new Date;if(isNaN((n=new Date("number"==typeof t?t*(t<1e12?1e3:1):t)).getTime()))return"";{let t=(0,a.Z)(n),u=(0,l.Z)(n,(0,c.Z)(r,5)),s=(0,l.Z)(n,(0,o.Z)(r,8));switch(e){case"live":return"".concat(t," ago");case"recent":return"Last updated on ".concat((0,i.Z)(n,"d MMM yyyy"));case"long":if(u)return"Just now";if(s)return"".concat(t," ago");return(0,i.Z)(n,"d MMMM yyyy");case"seo":return n.toISOString();case"seo-archive":return n=new Date(Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate())),(0,i.Z)(n,"d MMM yyyy");default:if(!u&&!s)return(0,i.Z)(n,"d MMM yyyy");{let e=t.replace("minutes","mins").replace("hour","hr");return u?"Just now":"".concat(e," ago")}}}},getTimeZone=()=>Intl.DateTimeFormat().resolvedOptions().timeZone,formatTimestampToTime=function(t){let e=!(arguments.length>1)||void 0===arguments[1]||arguments[1],n=arguments.length>2?arguments[2]:void 0,i=new Date(t);return i.toLocaleTimeString("en-GB",{hour:"numeric",minute:"2-digit",hour12:e,...n&&{timeZone:n,timeZoneName:"short"}})},formatDuration=t=>{let e=(0,r.Z)({start:0,end:6e4*t}),n=(0,u.Z)(e,{format:["hours","minutes"]});return n.replace(/hours?/,t=>"hour"===t?"hr":"hrs").replace(/minutes?/,t=>"minute"===t?"min":"mins")}}}]);