import{Registry}from"./registry.0de615f8.js";import{Player}from"./player.2a19e3aa.js";import{PlayerModel}from"./player-model.0f9b222b.js";import{ZAnalytics}from"./z-analytics.8c340981.js";class AudioPlayer extends HTMLElement{connectedCallback(){this.fetchModel(),Registry.register(this),!0===USE_ANALYTICS&&new ZAnalytics(this)}get playerId(){return this._playerId||(this._playerId=Math.floor(Math.random()*Math.floor(999999))),this._playerId}async fetchModel(){const t=new PlayerModel(this);this.tracks=t.tracks,this.build()}async build(){if(this.attachShadow({mode:"open"}),"app"===this.template){new((await import("./app-player-template.ea72605e.js")).default)({audioPlayer:this})}else if("article"===this.template){new((await import("./article-player-template.023e6f9a.js")).default)({audioPlayer:this})}else if("hp"===this.template){new((await import("./hp-player-template.c2d783f5.js")).default)({audioPlayer:this})}else if("left-nav"===this.template){new((await import("./left-nav-player-template.68ce5f22.js")).default)({audioPlayer:this})}else if("lite"===this.template){new((await import("./lite-player-template.348d13f4.js")).default)({audioPlayer:this})}else if("markets"===this.template){new((await import("./markets-player-template.5e301e0b.js")).default)({audioPlayer:this})}else if("square"===this.template){new((await import("./square-player-template.0879efe1.js")).default)({audioPlayer:this})}else{new((await import("./hub-player-template.b3a75539.js")).default)({audioPlayer:this}).addDescriptionClickEvent(this)}}get template(){return this.dataset.template||"hub"}get src(){return this.getAttribute("src")}set src(t){this.setAttribute("src",t)}get position(){return this.dataset.position?parseInt(this.dataset.position,10):null}set position(t){this.setAttribute("data-position",t)}get playlist(){return this.dataset.playlist||"default"}set playlist(t){this.dataset.playlist=t}play(){switch(this.status){case"loading":break;case"playing":Player.pause(this);break;case"paused":Player.resume(this);break;default:Player.play(this)}}get status(){return this._status||null}set status(t){this._status=t,this.classList.remove("loading","playing","paused"),null!==t&&this.classList.add(t)}get tracks(){return this._tracks}set tracks(t){this._tracks=t}get activeTrackPosition(){return this._activeTrackPosition||0}set activeTrackPosition(t){t>this.tracks.length-1?this._activeTrackPosition=this.tracks.length-1:this._activeTrackPosition=t}get activeTrack(){return this.tracks[this.activeTrackPosition]}}customElements.define("audio-player-wc",AudioPlayer);