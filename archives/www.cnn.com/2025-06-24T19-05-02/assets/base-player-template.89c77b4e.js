import{Player}from"./player.2a19e3aa.js";import{Controls}from"./controls.b65e4feb.js";import{Metadata}from"./metadata.e85a6f94.js";import{ProgressBar}from"./progressbar.4a05be37.js";import{LiveModel}from"./live-model.c136e13b.js";class BasePlayerTemplate{constructor(e){this.data=e,this.audioPlayer=this.data.audioPlayer,this.audioPlayer.shadowRoot.appendChild(this.template.content.cloneNode(!0)),Player.audio.addEventListener("timeupdate",this.onTimeUpdate.bind(this)),this.playPauseEl.addEventListener("click",this.onClick.bind(this)),this.tabWrapper&&this.tabWrapper.addEventListener("keyup",this.onReturnPress.bind(this)),new Controls(this.data.audioPlayer.shadowRoot,Player.audio),new Metadata(this.data.audioPlayer,Player.audio),!0===this.hasProgressBar&&new ProgressBar(this.data.audioPlayer.shadowRoot,Player.audio),"live"===this.audioPlayer.dataset.type&&(LiveModel.fetch=!0)}get styleEl(){return`\n      <style>${this.globalStyle}${this.style}</style>\n    `}get template(){return this._templateEl||(this._templateEl=document.createElement("template"),this._templateEl.innerHTML=`${this.styleEl}${this.markup}`),this._templateEl}get globalStyle(){return"\n      ::slotted(*) {\n        visibility: visible !important; \n      }\n    "}get hasProgressBar(){return!1}onTimeUpdate(){}get playPauseEl(){return this.audioPlayer.shadowRoot.querySelector("#playpause")}get tabWrapper(){return this.audioPlayer.shadowRoot.querySelector("#tabwrapper")}get images(){const e=this.audioPlayer.querySelector("picture");return{medium:e.querySelector('[data-type="medium"]').srcset,large:e.querySelector('[data-type="large"]').srcset,original:e.querySelector('[data-type="original"]').srcset}}onClick(e){this.audioPlayer.play()}onReturnPress(e){"Enter"===e.key&&this.audioPlayer.play()}}export{BasePlayerTemplate};