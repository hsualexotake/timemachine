class LoadMore extends HTMLElement{connectedCallback(){this.addEventListener("click",this.onClick)}onClick(){this.fetch()}get episodesEl(){return document.querySelector("#episodes")}get loadMoreWrapperEl(){return document.querySelector("#load-more-wrapper")}get episodeEls(){return document.querySelectorAll(".episode")}async fetch(){this.loadMoreWrapperEl.classList.add("loading");const{id:e,podcastId:t,episodeCreatedAt:o}=JSON.parse(this.dataset.key),s=await fetch(`${location.pathname}/episodes/${e.replace("e_","")}/${t}/${o}`);if(200===s.status){const e=await s.text();this.loadMoreWrapperEl.parentNode.removeChild(this.loadMoreWrapperEl),this.episodesEl.innerHTML+=e,this.episodeEls.forEach(((e,t)=>{e.dataset.position=t}))}}}customElements.define("load-more-wc",LoadMore);